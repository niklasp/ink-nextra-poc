1:"$Sreact.fragment"
3:I[3961,[],""]
4:I[3949,[],""]
6:I[518,[],"OutletBoundary"]
8:I[518,[],"MetadataBoundary"]
a:I[518,[],"ViewportBoundary"]
c:I[3880,[],""]
:HL["/_next/static/css/bd3cf48df47754f8.css","style"]
:HL["/_next/static/css/35058a0314817943.css","style"]
:HL["/_next/static/css/788d55bea83cd0d8.css","style"]
0:{"P":null,"b":"wsZk-QlOVbUZ_XFWZZDhC","p":"","c":["","docs","faq","migrating-from-ink-4-to-5"],"i":false,"f":[[["",{"children":["docs",{"children":[["mdxPath","faq/migrating-from-ink-4-to-5","oc"],{"children":["__PAGE__",{}]}]}]},"$undefined","$undefined",true],["",["$","$1","c",{"children":[[["$","link","0",{"rel":"stylesheet","href":"/_next/static/css/bd3cf48df47754f8.css","precedence":"next","crossOrigin":"$undefined","nonce":"$undefined"}],["$","link","1",{"rel":"stylesheet","href":"/_next/static/css/35058a0314817943.css","precedence":"next","crossOrigin":"$undefined","nonce":"$undefined"}],["$","link","2",{"rel":"stylesheet","href":"/_next/static/css/788d55bea83cd0d8.css","precedence":"next","crossOrigin":"$undefined","nonce":"$undefined"}]],"$L2"]}],{"children":["docs",["$","$1","c",{"children":[null,["$","$L3",null,{"parallelRouterKey":"children","segmentPath":["children","docs","children"],"error":"$undefined","errorStyles":"$undefined","errorScripts":"$undefined","template":["$","$L4",null,{}],"templateStyles":"$undefined","templateScripts":"$undefined","notFound":"$undefined","forbidden":"$undefined","unauthorized":"$undefined"}]]}],{"children":[["mdxPath","faq/migrating-from-ink-4-to-5","oc"],["$","$1","c",{"children":[null,["$","$L3",null,{"parallelRouterKey":"children","segmentPath":["children","docs","children","$0:f:0:1:2:children:2:children:0","children"],"error":"$undefined","errorStyles":"$undefined","errorScripts":"$undefined","template":["$","$L4",null,{}],"templateStyles":"$undefined","templateScripts":"$undefined","notFound":"$undefined","forbidden":"$undefined","unauthorized":"$undefined"}]]}],{"children":["__PAGE__",["$","$1","c",{"children":["$L5",null,["$","$L6",null,{"children":"$L7"}]]}],{},null,false]},null,false]},null,false]},null,false],["$","$1","h",{"children":[null,["$","$1","KrzusbLwCQaehqgYGVsdY",{"children":[["$","$L8",null,{"children":"$L9"}],["$","$La",null,{"children":"$Lb"}],null]}]]}],false]],"m":"$undefined","G":["$c","$undefined"],"s":false,"S":true}
d:I[5769,["448","static/chunks/3621f9d8-3fb317a87de954e1.js","172","static/chunks/172-96c1996f73fc758d.js","530","static/chunks/530-e11333c18bee5da6.js","784","static/chunks/784-c93bc7170a4021a2.js","604","static/chunks/604-b5555fa912ca5906.js","847","static/chunks/app/docs/%5B%5B...mdxPath%5D%5D/page-3399252d8b8c1fcf.js"],"Sidebar"]
e:I[6853,["448","static/chunks/3621f9d8-3fb317a87de954e1.js","172","static/chunks/172-96c1996f73fc758d.js","530","static/chunks/530-e11333c18bee5da6.js","784","static/chunks/784-c93bc7170a4021a2.js","604","static/chunks/604-b5555fa912ca5906.js","847","static/chunks/app/docs/%5B%5B...mdxPath%5D%5D/page-3399252d8b8c1fcf.js"],"ClientWrapper"]
f:I[8096,["448","static/chunks/3621f9d8-3fb317a87de954e1.js","172","static/chunks/172-96c1996f73fc758d.js","530","static/chunks/530-e11333c18bee5da6.js","784","static/chunks/784-c93bc7170a4021a2.js","604","static/chunks/604-b5555fa912ca5906.js","847","static/chunks/app/docs/%5B%5B...mdxPath%5D%5D/page-3399252d8b8c1fcf.js"],"ImageZoom"]
10:I[358,["448","static/chunks/3621f9d8-3fb317a87de954e1.js","172","static/chunks/172-96c1996f73fc758d.js","530","static/chunks/530-e11333c18bee5da6.js","784","static/chunks/784-c93bc7170a4021a2.js","604","static/chunks/604-b5555fa912ca5906.js","847","static/chunks/app/docs/%5B%5B...mdxPath%5D%5D/page-3399252d8b8c1fcf.js"],"HeadingAnchor"]
11:I[3867,["448","static/chunks/3621f9d8-3fb317a87de954e1.js","172","static/chunks/172-96c1996f73fc758d.js","530","static/chunks/530-e11333c18bee5da6.js","784","static/chunks/784-c93bc7170a4021a2.js","604","static/chunks/604-b5555fa912ca5906.js","847","static/chunks/app/docs/%5B%5B...mdxPath%5D%5D/page-3399252d8b8c1fcf.js"],"ToggleWordWrapButton"]
12:I[8172,["448","static/chunks/3621f9d8-3fb317a87de954e1.js","172","static/chunks/172-96c1996f73fc758d.js","530","static/chunks/530-e11333c18bee5da6.js","784","static/chunks/784-c93bc7170a4021a2.js","604","static/chunks/604-b5555fa912ca5906.js","847","static/chunks/app/docs/%5B%5B...mdxPath%5D%5D/page-3399252d8b8c1fcf.js"],""]
5:["$","div",null,{"className":"x:mx-auto x:flex x:max-w-(--nextra-content-width)","children":[["$","$Ld",null,{"toc":[{"value":"How to upgrade","id":"how-to-upgrade","depth":2},{"value":"Compatibility","id":"compatibility","depth":2},{"value":"Substrate/Polkadot SDK","id":"substratepolkadot-sdk","depth":3},{"value":"How do I find out if a chain is compatible with ink! 5?","id":"how-do-i-find-out-if-a-chain-is-compatible-with-ink-5","depth":3},{"value":[["$","$1",".0",{"children":[["$","code",".0",{"className":"nextra-code","dir":"ltr","children":"cargo-contract"}]," 4.0"]}]],"id":"cargo-contract-40","depth":3},{"value":"Tooling & Libraries","id":"tooling--libraries","depth":3},{"value":"Important Changes","id":"important-changes","depth":2},{"value":[["$","$1",".0",{"children":[["$","code",".0",{"className":"nextra-code","dir":"ltr","children":"scale"}]," dependencies were moved to ",["$","code",".2",{"className":"nextra-code","dir":"ltr","children":"ink"}]," entrance crate"]}]],"id":"scale-dependencies-were-moved-to-ink-entrance-crate","depth":3},{"value":"Wildcard selectors: only one other message is allowed in the contract besides the wildcard selector","id":"wildcard-selectors-only-one-other-message-is-allowed-in-the-contract-besides-the-wildcard-selector","depth":3},{"value":"Events 2.0","id":"events-20","depth":3},{"value":"Custom signature topics","id":"custom-signature-topics","depth":4},{"value":"No more unchecked arithmetic","id":"no-more-unchecked-arithmetic","depth":3},{"value":"Fail when decoding from storage and not all bytes consumed","id":"fail-when-decoding-from-storage-and-not-all-bytes-consumed","depth":3},{"value":"[ink_e2e] API Changes","id":"ink_e2e-api-changes","depth":3},{"value":"Builder API","id":"builder-api","depth":4},{"value":"Extra gas margin","id":"extra-gas-margin","depth":4},{"value":[["$","$1",".0",{"children":["Improved ",["$","code",".1",{"className":"nextra-code","dir":"ltr","children":"call()"}]," API"]}]],"id":"improved-call-api","depth":4},{"value":[["$","$1",".0",{"children":["Removed ",["$","code",".1",{"className":"nextra-code","dir":"ltr","children":"additional_contracts"}]," parameter"]}]],"id":"removed-additional_contracts-parameter","depth":4},{"value":"","id":"","depth":4},{"value":[["$","$1",".0",{"children":["New Data Structure: ",["$","code",".1",{"className":"nextra-code","dir":"ltr","children":"StorageVec"}]]}]],"id":"new-data-structure-storagevec","depth":3},{"value":[["$","$1",".0",{"children":["Fallible methods for ",["$","code",".1",{"className":"nextra-code","dir":"ltr","children":"Lazy"}],", ",["$","code",".3",{"className":"nextra-code","dir":"ltr","children":"Mapping"}],", ",["$","code",".5",{"className":"nextra-code","dir":"ltr","children":"StorageVec"}]]}]],"id":"fallible-methods-for-lazy-mapping-storagevec","depth":3},{"value":"Chain Extension API changed + Support for multiple chain extensions","id":"chain-extension-api-changed--support-for-multiple-chain-extensions","depth":3},{"value":[["$","$1",".0",{"children":[["$","code",".0",{"className":"nextra-code","dir":"ltr","children":"call"}]," and ",["$","code",".2",{"className":"nextra-code","dir":"ltr","children":"instantiate"}]," v2"]}]],"id":"call-and-instantiate-v2","depth":3},{"value":"Metadata Changes","id":"metadata-changes","depth":3},{"value":"Events 2.0","id":"events-20-1","depth":4},{"value":[["$","$1",".0",{"children":["New field: ",["$","code",".1",{"className":"nextra-code","dir":"ltr","children":"staticBufferSize"}]]}]],"id":"new-field-staticbuffersize","depth":4},{"value":"Metadata storage keys encoding change","id":"metadata-storage-keys-encoding-change","depth":4},{"value":"Interesting New Features","id":"interesting-new-features","depth":2},{"value":"End-To-End testing with a chain snapshot","id":"end-to-end-testing-with-a-chain-snapshot","depth":3},{"value":"New lints","id":"new-lints","depth":3},{"value":[["$","$1",".0",{"children":["New ",["$","code",".1",{"className":"nextra-code","dir":"ltr","children":"cargo-contract"}]," commands"]}]],"id":"new-cargo-contract-commands","depth":3},{"value":"Alternative off-chain E2E testing backend support: DRink!","id":"alternative-off-chain-e2e-testing-backend-support-drink","depth":3},{"value":"Contract Verification","id":"contract-verification","depth":3},{"value":[["$","$1",".0",{"children":["We improved the contract example illustrating upgradeable contracts via ",["$","code",".1",{"className":"nextra-code","dir":"ltr","children":"delegate_call"}]]}]],"id":"we-improved-the-contract-example-illustrating-upgradeable-contracts-via-delegate_call","depth":3},{"value":[["$","$1",".0",{"children":["Upgradeable Contracts: ",["$","code",".1",{"className":"nextra-code","dir":"ltr","children":"delegate_dependency"}]]}]],"id":"upgradeable-contracts-delegate_dependency","depth":3},{"value":[["$","$1",".0",{"children":["We made ",["$","code",".1",{"className":"nextra-code","dir":"ltr","children":"set_code_hash"}]," generic"]}]],"id":"we-made-set_code_hash-generic","depth":3},{"value":"Buffer size can be customized","id":"buffer-size-can-be-customized","depth":3},{"value":[["$","$1",".0",{"children":["Stabilized ",["$","code",".1",{"className":"nextra-code","dir":"ltr","children":"call_runtime"}]]}]],"id":"stabilized-call_runtime","depth":3}]}],["$","$Le",null,{"toc":"$5:props:children:0:props:toc","metadata":{"title":"Migrating from ink! 4.x to 5.0","slug":"/faq/migrating-from-ink-4-to-5","filePath":"content/faq/migrating-from-ink-4-to-5.md","timestamp":1739832722000},"bottomContent":"$undefined","children":[["$","div",null,{"id":"nextra-skip-nav"}],["$","main",null,{"data-pagefind-body":true,"children":[["$","$Lf",null,{"src":"/img/title/migration-4.x-to-5.0.svg","className":"titlePic"}],"\n",["$","p",null,{"className":"x:not-first:mt-6 x:leading-7","children":"We’ve made a couple of breaking changes from ink! 4.x to ink! 5.0.\nOn this page we outline how you can migrate existing dApps and\ncontracts from 4.x to 5.0."}],"\n",["$","p",null,{"className":"x:not-first:mt-6 x:leading-7","children":["This release addresses the majority of issues raised in ",["$","a",null,{"href":"https://blog.openzeppelin.com/security-review-ink-cargo-contract","target":"_blank","rel":"noreferrer","className":"x:focus-visible:nextra-focus x:text-primary-600 x:underline x:hover:no-underline x:decoration-from-font x:[text-underline-position:from-font]","children":["the OpenZeppelin\nsecurity review",[" ",["$","svg",null,{"fill":"none","stroke":"currentColor","strokeLinecap":"round","strokeLinejoin":"round","strokeWidth":1.7,"viewBox":"0 0 24 24","height":"1em","className":"x:inline x:align-baseline x:shrink-0","children":[["$","path",null,{"d":"M7 17L17 7"}],["$","path",null,{"d":"M7 7h10v10"}]]}]]]}],".\nIn particular, we addressed the proxy selector clashing attack."]}],"\n",["$","p",null,{"className":"x:not-first:mt-6 x:leading-7","children":["You can find the full changelog of the 5.0 release ",["$","a",null,{"href":"https://github.com/use-ink/ink/blob/master/CHANGELOG.md#version-500","target":"_blank","rel":"noreferrer","className":"x:focus-visible:nextra-focus x:text-primary-600 x:underline x:hover:no-underline x:decoration-from-font x:[text-underline-position:from-font]","children":["here",[" ",["$","svg",null,{"fill":"none","stroke":"currentColor","strokeLinecap":"round","strokeLinejoin":"round","strokeWidth":1.7,"viewBox":"0 0 24 24","height":"1em","className":"x:inline x:align-baseline x:shrink-0","children":[["$","path",null,{"d":"M7 17L17 7"}],["$","path",null,{"d":"M7 7h10v10"}]]}]]]}],"."]}],"\n",["$","p",null,{"className":"x:not-first:mt-6 x:leading-7","children":":::caution\nThis migration guide only considers your code base! Not your storage data!"}],"\n",["$","p",null,{"className":"x:not-first:mt-6 x:leading-7","children":"If you have an existing contract on-chain you might not be able to just\nupgrade the code on-chain, you possibly also have to migrate your storage data."}],"\n",["$","p",null,{"className":"x:not-first:mt-6 x:leading-7","children":["The relevant change that you have to take into consideration is\n",["$","a",null,{"href":"https://github.com/use-ink/ink/pull/1897","target":"_blank","rel":"noreferrer","className":"x:focus-visible:nextra-focus x:text-primary-600 x:underline x:hover:no-underline x:decoration-from-font x:[text-underline-position:from-font]","children":["#1897",[" ",["$","svg",null,{"fill":"none","stroke":"currentColor","strokeLinecap":"round","strokeLinejoin":"round","strokeWidth":1.7,"viewBox":"0 0 24 24","height":"1em","className":"x:inline x:align-baseline x:shrink-0","children":[["$","path",null,{"d":"M7 17L17 7"}],["$","path",null,{"d":"M7 7h10v10"}]]}]]]}],".\nA data migration may be required when your contract reads data from storage and truncates\nthe data when decoding it.\nWe’ve described this in more detail below, in the section\n",["$","a",null,{"href":"#fail-when-decoding-from-storage-and-not-all-bytes-consumed","className":"x:focus-visible:nextra-focus x:text-primary-600 x:underline x:hover:no-underline x:decoration-from-font x:[text-underline-position:from-font]","children":"“Fail when decoding from storage and not all bytes consumed”"}],".\n:::"]}],"\n",["$","h2",null,{"id":"how-to-upgrade","className":"x:tracking-tight x:text-slate-900 x:dark:text-slate-100 x:font-semibold x:target:animate-[fade-in_1.5s] x:mt-10 x:border-b x:pb-1 x:text-3xl nextra-border","children":["How to upgrade",["$","$L10",null,{"id":"how-to-upgrade"}]]}],"\n",["$","ul",null,{"className":"x:[:is(ol,ul)_&]:my-3 x:not-first:mt-6 x:list-disc x:ms-6","children":["\n",["$","li",null,{"className":"x:my-2","children":["Change the dependency versions of ",["$","code",null,{"className":"nextra-code","dir":"ltr","children":"ink"}]," and ",["$","code",null,{"className":"nextra-code","dir":"ltr","children":"ink_e2e"}]," in your contracts ",["$","code",null,{"className":"nextra-code","dir":"ltr","children":"Cargo.toml"}]," to ",["$","code",null,{"className":"nextra-code","dir":"ltr","children":"5"}],"."]}],"\n",["$","li",null,{"className":"x:my-2","children":["Update your local ",["$","code",null,{"className":"nextra-code","dir":"ltr","children":"cargo-contract"}]," installation to 4.0."]}],"\n",["$","li",null,{"className":"x:my-2","children":"Read through this page."}],"\n"]}],"\n",["$","h2",null,{"id":"compatibility","className":"x:tracking-tight x:text-slate-900 x:dark:text-slate-100 x:font-semibold x:target:animate-[fade-in_1.5s] x:mt-10 x:border-b x:pb-1 x:text-3xl nextra-border","children":["Compatibility",["$","$L10",null,{"id":"compatibility"}]]}],"\n",["$","h3",null,{"id":"substratepolkadot-sdk","className":"x:tracking-tight x:text-slate-900 x:dark:text-slate-100 x:font-semibold x:target:animate-[fade-in_1.5s] x:mt-8 x:text-2xl","children":["Substrate/Polkadot SDK",["$","$L10",null,{"id":"substratepolkadot-sdk"}]]}],"\n",["$","p",null,{"className":"x:not-first:mt-6 x:leading-7","children":"There are four new functions that are only compatible from particular releases upwards:"}],"\n",["$","ul",null,{"className":"x:[:is(ol,ul)_&]:my-3 x:not-first:mt-6 x:list-disc x:ms-6","children":["\n",["$","li",null,{"className":"x:my-2","children":["v2 of ",["$","code",null,{"className":"nextra-code","dir":"ltr","children":"call"}]," and ",["$","code",null,{"className":"nextra-code","dir":"ltr","children":"instantiate"}],": ",["$","code",null,{"className":"nextra-code","dir":"ltr","children":">= polkadot-v1.8.0"}]," and ",["$","code",null,{"className":"nextra-code","dir":"ltr","children":"substrate-contracts-node >= v0.39.0"}],"\n(",["$","a",null,{"href":"#call-and-instantiate-v2","className":"x:focus-visible:nextra-focus x:text-primary-600 x:underline x:hover:no-underline x:decoration-from-font x:[text-underline-position:from-font]","children":"explained here"}],")."]}],"\n",["$","li",null,{"className":"x:my-2","children":[["$","code",null,{"className":"nextra-code","dir":"ltr","children":"lock_delegate_dependency"}]," and ",["$","code",null,{"className":"nextra-code","dir":"ltr","children":"unlock_delegate_dependency"}],":\n",["$","code",null,{"className":"nextra-code","dir":"ltr","children":">= polkadot-v1.9.0"}]," and ",["$","code",null,{"className":"nextra-code","dir":"ltr","children":"substrate-contracts-node >= v0.40.0"}]," (",["$","a",null,{"href":"#upgradeable-contracts-delegate_dependency","className":"x:focus-visible:nextra-focus x:text-primary-600 x:underline x:hover:no-underline x:decoration-from-font x:[text-underline-position:from-font]","children":"explained here"}],")."]}],"\n"]}],"\n",["$","p",null,{"className":"x:not-first:mt-6 x:leading-7","children":"These four functions are all opt-in! None of them are required to use ink! 5.0, they are only\nrequired if you want to access the particular functionality they provide.\nPlease see the linked explainers for more details about them."}],"\n",["$","p",null,{"className":"x:not-first:mt-6 x:leading-7","children":"If you are not using any of those four functions, the same requirements as for ink! 4.0 holds:"}],"\n",["$","ul",null,{"className":"x:[:is(ol,ul)_&]:my-3 x:not-first:mt-6 x:list-disc x:ms-6","children":["\n",["$","li",null,{"className":"x:my-2","children":[["$","code",null,{"className":"nextra-code","dir":"ltr","children":"pallet-contracts"}]," >= ",["$","code",null,{"className":"nextra-code","dir":"ltr","children":"polkadot-v0.9.37"}],"."]}],"\n",["$","li",null,{"className":"x:my-2","children":[["$","code",null,{"className":"nextra-code","dir":"ltr","children":"substrate-contracts-node"}]," >= ",["$","code",null,{"className":"nextra-code","dir":"ltr","children":"v0.24.0"}]]}],"\n"]}],"\n",["$","h3",null,{"id":"how-do-i-find-out-if-a-chain-is-compatible-with-ink-5","className":"x:tracking-tight x:text-slate-900 x:dark:text-slate-100 x:font-semibold x:target:animate-[fade-in_1.5s] x:mt-8 x:text-2xl","children":["How do I find out if a chain is compatible with ink! 5?",["$","$L10",null,{"id":"how-do-i-find-out-if-a-chain-is-compatible-with-ink-5"}]]}],"\n",["$","p",null,{"className":"x:not-first:mt-6 x:leading-7","children":["You can query ",["$","code",null,{"className":"nextra-code","dir":"ltr","children":"contracts::palletVersion()"}]," via the chain state RPCs. It has to\nbe ",["$","code",null,{"className":"nextra-code","dir":"ltr","children":">= 9"}]," for ink! 5.0 to be compatible, if you don’t use any of the four functions\nmentioned above.\nFor the above mentioned four functions please see the respective sections on this page,\nthere we explain how to find out if a chain supports them there."]}],"\n",["$","p",null,{"className":"x:not-first:mt-6 x:leading-7","children":["You can use the ",["$","a",null,{"href":"https://polkadot.js.org/apps/","target":"_blank","rel":"noreferrer","className":"x:focus-visible:nextra-focus x:text-primary-600 x:underline x:hover:no-underline x:decoration-from-font x:[text-underline-position:from-font]","children":["polakdot.js app",[" ",["$","svg",null,{"fill":"none","stroke":"currentColor","strokeLinecap":"round","strokeLinejoin":"round","strokeWidth":1.7,"viewBox":"0 0 24 24","height":"1em","className":"x:inline x:align-baseline x:shrink-0","children":[["$","path",null,{"d":"M7 17L17 7"}],["$","path",null,{"d":"M7 7h10v10"}]]}]]]}]," to do this:\nDeveloper » Chain State » ",["$","code",null,{"className":"nextra-code","dir":"ltr","children":"contracts"}]," » ",["$","code",null,{"className":"nextra-code","dir":"ltr","children":"palletVersion()"}]," » Click on the ",["$","code",null,{"className":"nextra-code","dir":"ltr","children":"+"}]," on the right."]}],"\n",["$","$Lf",null,{"src":"/img/pallet-version.png"}],"\n",["$","p",null,{"className":"x:not-first:mt-6 x:leading-7","children":"The following chains are in production and support ink! 5.0, if you are not using any of the\nfour functions mentioned above:"}],"\n",["$","div",null,{"className":"row","children":["\n    ",["$","div",null,{"className":"col text--center","children":["\n        ",["$","a",null,{"href":"https://alephzero.org","target":"_blank","rel":"noreferrer","className":"x:focus-visible:nextra-focus x:text-primary-600 x:underline x:hover:no-underline x:decoration-from-font x:[text-underline-position:from-font]","children":[["\n            ",["$","$Lf",null,{"src":"/img/chains/aleph-zero.svg","className":"chain"}],"\n        "],false]}],"\n    "]}],"\n    ",["$","div",null,{"className":"col text--center","children":["\n        ",["$","a",null,{"href":"https://astar.network","target":"_blank","rel":"noreferrer","className":"x:focus-visible:nextra-focus x:text-primary-600 x:underline x:hover:no-underline x:decoration-from-font x:[text-underline-position:from-font]","children":[["\n            ",["$","$Lf",null,{"src":"/img/chains/astar.svg","className":"chain"}],"\n        "],false]}],"\n    "]}],"\n    ",["$","div",null,{"className":"col text--center","children":["\n        ",["$","a",null,{"href":"https://shiden.astar.network","target":"_blank","rel":"noreferrer","className":"x:focus-visible:nextra-focus x:text-primary-600 x:underline x:hover:no-underline x:decoration-from-font x:[text-underline-position:from-font]","children":[["\n            ",["$","$Lf",null,{"src":"/img/chains/shiden.svg","className":"chain"}],"\n        "],false]}],"\n    "]}],"\n"]}],"\n",["$","div",null,{"className":"row","children":["\n    ",["$","div",null,{"className":"col text--center","children":["\n        ",["$","a",null,{"href":"http://phala.network","target":"_blank","rel":"noreferrer","className":"x:focus-visible:nextra-focus x:text-primary-600 x:underline x:hover:no-underline x:decoration-from-font x:[text-underline-position:from-font]","children":[["\n            ",["$","$Lf",null,{"src":"/img/chains/phala.svg","className":"chain"}],"\n        "],false]}],"\n    "]}],"\n    ",["$","div",null,{"className":"col text--center","children":["\n        ",["$","a",null,{"href":"https://pendulumchain.org","target":"_blank","rel":"noreferrer","className":"x:focus-visible:nextra-focus x:text-primary-600 x:underline x:hover:no-underline x:decoration-from-font x:[text-underline-position:from-font]","children":[["\n            ",["$","$Lf",null,{"src":"/img/chains/pendulum.svg","className":"chain"}],"\n        "],false]}],"\n    "]}],"\n    ",["$","div",null,{"className":"col text--center","children":["\n        ",["$","a",null,{"href":"https://pendulumchain.org/amplitude","target":"_blank","rel":"noreferrer","className":"x:focus-visible:nextra-focus x:text-primary-600 x:underline x:hover:no-underline x:decoration-from-font x:[text-underline-position:from-font]","children":[["\n            ",["$","$Lf",null,{"src":"/img/chains/amplitude.svg","className":"chain"}],"\n        "],false]}],"\n    "]}],"\n"]}],"\n",["$","div",null,{"className":"row","children":["\n    ",["$","div",null,{"className":"col text--center","children":["\n        ",["$","a",null,{"href":"https://www.ternoa.network/","target":"_blank","rel":"noreferrer","className":"x:focus-visible:nextra-focus x:text-primary-600 x:underline x:hover:no-underline x:decoration-from-font x:[text-underline-position:from-font]","children":[["\n            ",["$","$Lf",null,{"src":"/img/chains/ternoa.svg","className":"chain"}],"\n        "],false]}],"\n    "]}],"\n    ",["$","div",null,{"className":"col text--center","children":["\n        ",["$","a",null,{"href":"https://krest.peaq.network/","target":"_blank","rel":"noreferrer","className":"x:focus-visible:nextra-focus x:text-primary-600 x:underline x:hover:no-underline x:decoration-from-font x:[text-underline-position:from-font]","children":[["\n            ",["$","$Lf",null,{"src":"/img/chains/krest.svg","className":"chain"}],"\n        "],false]}],"\n    "]}],"\n"]}],"\n",["$","h3",null,{"id":"cargo-contract-40","className":"x:tracking-tight x:text-slate-900 x:dark:text-slate-100 x:font-semibold x:target:animate-[fade-in_1.5s] x:mt-8 x:text-2xl","children":[[["$","code",null,{"className":"nextra-code","dir":"ltr","children":"cargo-contract"}]," 4.0"],["$","$L10",null,{"id":"cargo-contract-40"}]]}],"\n",["$","p",null,{"className":"x:not-first:mt-6 x:leading-7","children":["Together with ink! 5.0 we’ve released ",["$","code",null,{"className":"nextra-code","dir":"ltr","children":"cargo-contract"}]," 4.0."]}],"\n",["$","p",null,{"className":"x:not-first:mt-6 x:leading-7","children":[":::info\nYou have to use ",["$","code",null,{"className":"nextra-code","dir":"ltr","children":"cargo-contract"}]," >= 4.0 for ink! 5.0 contracts!"]}],"\n",["$","p",null,{"className":"x:not-first:mt-6 x:leading-7","children":"You can upgrade via:"}],"\n",["$","div",null,{"data-pagefind-ignore":"all","className":"nextra-code x:relative x:not-first:mt-6","children":["$undefined",["$","pre",null,{"className":"x:group x:focus-visible:nextra-focus x:overflow-x-auto x:subpixel-antialiased x:text-[.9em] x:bg-white x:dark:bg-black x:py-4 x:ring-1 x:ring-inset x:ring-gray-300 x:dark:ring-neutral-700 x:contrast-more:ring-gray-900 x:contrast-more:dark:ring-gray-50 x:contrast-more:contrast-150 x:rounded-md not-prose","tabIndex":"0","children":[["$","div",null,{"className":"x:group-hover:opacity-100 x:group-focus:opacity-100 x:opacity-0 x:transition x:focus-within:opacity-100 x:flex x:gap-1 x:absolute x:right-4 x:top-2","children":[["$","$L11",null,{"children":["$","svg",null,{"viewBox":"0 0 24 24","fill":"currentColor","height":"1em","children":["$","path",null,{"d":"M4 19h6v-2H4v2zM20 5H4v2h16V5zm-3 6H4v2h13.25c1.1 0 2 .9 2 2s-.9 2-2 2H15v-2l-3 3l3 3v-2h2c2.21 0 4-1.79 4-4s-1.79-4-4-4z"}]}]}],false]}],["$","code",null,{"className":"nextra-code","dir":"ltr","children":["$","span",null,{"children":[["$","span",null,{"style":{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},"children":"cargo install cargo"}],["$","span",null,{"style":{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"},"children":"-"}],["$","span",null,{"style":{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},"children":"contract "}],["$","span",null,{"style":{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"},"children":"--"}],["$","span",null,{"style":{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},"children":"version "}],["$","span",null,{"style":{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"},"children":"^"}],["$","span",null,{"style":{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"},"children":"4"}]]}]}]]}]]}],"\n",["$","p",null,{"className":"x:not-first:mt-6 x:leading-7","children":":::"}],"\n",["$","p",null,{"className":"x:not-first:mt-6 x:leading-7","children":["Make sure that e.g. your CI also uses at least ",["$","code",null,{"className":"nextra-code","dir":"ltr","children":"cargo-contract"}]," 4.0 with ink! v5.0.\nIf you have wrapper scripts around ",["$","code",null,{"className":"nextra-code","dir":"ltr","children":"cargo-contract"}],", you should\nensure that this version is enforced, otherwise users will get an error."]}],"\n",["$","h3",null,{"id":"tooling--libraries","className":"x:tracking-tight x:text-slate-900 x:dark:text-slate-100 x:font-semibold x:target:animate-[fade-in_1.5s] x:mt-8 x:text-2xl","children":["Tooling & Libraries",["$","$L10",null,{"id":"tooling--libraries"}]]}],"\n",["$","ul",null,{"className":"x:[:is(ol,ul)_&]:my-3 x:not-first:mt-6 x:list-disc x:ms-6","children":["\n",["$","li",null,{"className":"x:my-2","children":"Stable Rust >= 1.75"}],"\n",["$","li",null,{"className":"x:my-2","children":[["$","code",null,{"className":"nextra-code","dir":"ltr","children":"cargo-contract"}]," >= v4.0"]}],"\n",["$","li",null,{"className":"x:my-2","children":[["$","code",null,{"className":"nextra-code","dir":"ltr","children":"polkadot-js/api"}]," and ",["$","code",null,{"className":"nextra-code","dir":"ltr","children":"polkadot-js/api-contract"}]," >= 10.12.1"]}],"\n",["$","li",null,{"className":"x:my-2","children":[["$","a",null,{"href":"https://github.com/scio-labs/use-inkathon","target":"_blank","rel":"noreferrer","className":"x:focus-visible:nextra-focus x:text-primary-600 x:underline x:hover:no-underline x:decoration-from-font x:[text-underline-position:from-font]","children":[["$","code",null,{"className":"nextra-code","dir":"ltr","children":"use-inkathon"}],false]}],": upgrade the ",["$","code",null,{"className":"nextra-code","dir":"ltr","children":"polkadot-js/api"}]," and ",["$","code",null,{"className":"nextra-code","dir":"ltr","children":"polkadot-js/api-contract"}]," dependencies in your project to >= 10.12.1"]}],"\n",["$","li",null,{"className":"x:my-2","children":[["$","a",null,{"href":"https://inkathon.xyz/","target":"_blank","rel":"noreferrer","className":"x:focus-visible:nextra-focus x:text-primary-600 x:underline x:hover:no-underline x:decoration-from-font x:[text-underline-position:from-font]","children":["ink!athon",[" ",["$","svg",null,{"fill":"none","stroke":"currentColor","strokeLinecap":"round","strokeLinejoin":"round","strokeWidth":1.7,"viewBox":"0 0 24 24","height":"1em","className":"x:inline x:align-baseline x:shrink-0","children":[["$","path",null,{"d":"M7 17L17 7"}],["$","path",null,{"d":"M7 7h10v10"}]]}]]]}]," >= 0.7.0"]}],"\n",["$","li",null,{"className":"x:my-2","children":[["$","a",null,{"href":"https://github.com/Brushfam/typechain-polkadot","target":"_blank","rel":"noreferrer","className":"x:focus-visible:nextra-focus x:text-primary-600 x:underline x:hover:no-underline x:decoration-from-font x:[text-underline-position:from-font]","children":[["$","code",null,{"className":"nextra-code","dir":"ltr","children":"typechain-polkadot"}],false]}]," >= 1.2.0"]}],"\n"]}],"\n",["$","h2",null,{"id":"important-changes","className":"x:tracking-tight x:text-slate-900 x:dark:text-slate-100 x:font-semibold x:target:animate-[fade-in_1.5s] x:mt-10 x:border-b x:pb-1 x:text-3xl nextra-border","children":["Important Changes",["$","$L10",null,{"id":"important-changes"}]]}],"\n",["$","p",null,{"className":"x:not-first:mt-6 x:leading-7","children":"We had to introduce a number of changes that require you to manually upgrade\nyour contract from 4.x to 5.0. The steps to do this are explained in this section."}],"\n",["$","h3",null,{"id":"scale-dependencies-were-moved-to-ink-entrance-crate","className":"x:tracking-tight x:text-slate-900 x:dark:text-slate-100 x:font-semibold x:target:animate-[fade-in_1.5s] x:mt-8 x:text-2xl","children":[[["$","code",null,{"className":"nextra-code","dir":"ltr","children":"scale"}]," dependencies were moved to ",["$","code",null,{"className":"nextra-code","dir":"ltr","children":"ink"}]," entrance crate"],["$","$L10",null,{"id":"scale-dependencies-were-moved-to-ink-entrance-crate"}]]}],"\n",["$","p",null,{"className":"x:not-first:mt-6 x:leading-7","children":["This change was done to ensure that you always use the correct scale dependency versions\nwith an ink! version. The relevant PR is ",["$","a",null,{"href":"https://github.com/use-ink/ink/pull/1890","target":"_blank","rel":"noreferrer","className":"x:focus-visible:nextra-focus x:text-primary-600 x:underline x:hover:no-underline x:decoration-from-font x:[text-underline-position:from-font]","children":["#1890",[" ",["$","svg",null,{"fill":"none","stroke":"currentColor","strokeLinecap":"round","strokeLinejoin":"round","strokeWidth":1.7,"viewBox":"0 0 24 24","height":"1em","className":"x:inline x:align-baseline x:shrink-0","children":[["$","path",null,{"d":"M7 17L17 7"}],["$","path",null,{"d":"M7 7h10v10"}]]}]]]}],"."]}],"\n",["$","p",null,{"className":"x:not-first:mt-6 x:leading-7","children":["We removed the requirement for contracts to have direct dependencies on ",["$","code",null,{"className":"nextra-code","dir":"ltr","children":"parity-scale-codec"}],"\nand ",["$","code",null,{"className":"nextra-code","dir":"ltr","children":"scale-info"}]," in their ",["$","code",null,{"className":"nextra-code","dir":"ltr","children":"Cargo.toml"}],".\nYou can now remove those dependencies from your contracts ",["$","code",null,{"className":"nextra-code","dir":"ltr","children":"Cargo.toml"}],":"]}],"\n",["$","div",null,{"data-pagefind-ignore":"all","className":"nextra-code x:relative x:not-first:mt-6","children":["$undefined",["$","pre",null,{"className":"x:group x:focus-visible:nextra-focus x:overflow-x-auto x:subpixel-antialiased x:text-[.9em] x:bg-white x:dark:bg-black x:py-4 x:ring-1 x:ring-inset x:ring-gray-300 x:dark:ring-neutral-700 x:contrast-more:ring-gray-900 x:contrast-more:dark:ring-gray-50 x:contrast-more:contrast-150 x:rounded-md not-prose","tabIndex":"0","children":[["$","div",null,{"className":"x:group-hover:opacity-100 x:group-focus:opacity-100 x:opacity-0 x:transition x:focus-within:opacity-100 x:flex x:gap-1 x:absolute x:right-4 x:top-2","children":[["$","$L11",null,{"children":["$","svg",null,{"viewBox":"0 0 24 24","fill":"currentColor","height":"1em","children":["$","path",null,{"d":"M4 19h6v-2H4v2zM20 5H4v2h16V5zm-3 6H4v2h13.25c1.1 0 2 .9 2 2s-.9 2-2 2H15v-2l-3 3l3 3v-2h2c2.21 0 4-1.79 4-4s-1.79-4-4-4z"}]}]}],false]}],["$","code",null,{"className":"nextra-code","dir":"ltr","children":[["$","span",null,{"children":["$","span",null,{"style":{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},"children":"ink = { version = \"4.3\", default-features = false }"}]}],"\n",["$","span",null,{"children":["$","span",null,{"style":{"--shiki-light":"#B31D28","--shiki-dark":"#FDAEB7"},"children":"-scale = { package = \"parity-scale-codec\", version = \"3\", default-features = false, features = [\"derive\"] }"}]}],"\n",["$","span",null,{"children":["$","span",null,{"style":{"--shiki-light":"#B31D28","--shiki-dark":"#FDAEB7"},"children":"-scale-info = { version = \"2.6\", default-features = false, features = [\"derive\"], optional = true }"}]}]]}]]}]]}],"\n",["$","p",null,{"className":"x:not-first:mt-6 x:leading-7","children":["Both crates have been re-exported from the ",["$","code",null,{"className":"nextra-code","dir":"ltr","children":"ink"}]," umbrella crate: ",["$","code",null,{"className":"nextra-code","dir":"ltr","children":"ink::scale_info"}]," and ",["$","code",null,{"className":"nextra-code","dir":"ltr","children":"ink::scale"}],"."]}],"\n",["$","p",null,{"className":"x:not-first:mt-6 x:leading-7","children":["We created a convenience macro to derive the re-exported traits ",["$","code",null,{"className":"nextra-code","dir":"ltr","children":"ink::scale::Encode"}],",\n",["$","code",null,{"className":"nextra-code","dir":"ltr","children":"ink::scale::Decode"}]," and ",["$","code",null,{"className":"nextra-code","dir":"ltr","children":"ink::scale_info::TypeInfo"}],"."]}],"\n",["$","div",null,{"data-pagefind-ignore":"all","className":"nextra-code x:relative x:not-first:mt-6","children":["$undefined",["$","pre",null,{"className":"x:group x:focus-visible:nextra-focus x:overflow-x-auto x:subpixel-antialiased x:text-[.9em] x:bg-white x:dark:bg-black x:py-4 x:ring-1 x:ring-inset x:ring-gray-300 x:dark:ring-neutral-700 x:contrast-more:ring-gray-900 x:contrast-more:dark:ring-gray-50 x:contrast-more:contrast-150 x:rounded-md not-prose","tabIndex":"0","children":[["$","div",null,{"className":"x:group-hover:opacity-100 x:group-focus:opacity-100 x:opacity-0 x:transition x:focus-within:opacity-100 x:flex x:gap-1 x:absolute x:right-4 x:top-2","children":[["$","$L11",null,{"children":["$","svg",null,{"viewBox":"0 0 24 24","fill":"currentColor","height":"1em","children":["$","path",null,{"d":"M4 19h6v-2H4v2zM20 5H4v2h16V5zm-3 6H4v2h13.25c1.1 0 2 .9 2 2s-.9 2-2 2H15v-2l-3 3l3 3v-2h2c2.21 0 4-1.79 4-4s-1.79-4-4-4z"}]}]}],false]}],["$","code",null,{"className":"nextra-code","dir":"ltr","children":[["$","span",null,{"children":["$","span",null,{"style":{"--shiki-light":"#6A737D","--shiki-dark":"#6A737D"},"children":"// Previously"}]}],"\n",["$","span",null,{"children":[["$","span",null,{"style":{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},"children":"#[scale"}],["$","span",null,{"style":{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"},"children":"::"}],["$","span",null,{"style":{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"},"children":"Encode"}],["$","span",null,{"style":{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},"children":", scale"}],["$","span",null,{"style":{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"},"children":"::"}],["$","span",null,{"style":{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"},"children":"Decode"}],["$","span",null,{"style":{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},"children":")]"}]]}],"\n",["$","span",null,{"children":[["$","span",null,{"style":{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},"children":"#[cfg_attr(feature "}],["$","span",null,{"style":{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"},"children":"="}],["$","span",null,{"style":{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"},"children":" \"std\""}],["$","span",null,{"style":{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},"children":", derive("}],["$","span",null,{"style":{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"},"children":"::"}],["$","span",null,{"style":{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},"children":"scale_info"}],["$","span",null,{"style":{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"},"children":"::"}],["$","span",null,{"style":{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"},"children":"TypeInfo"}],["$","span",null,{"style":{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},"children":"))]"}]]}],"\n",["$","span",null,{"children":[["$","span",null,{"style":{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"},"children":"pub"}],["$","span",null,{"style":{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"},"children":" enum"}],["$","span",null,{"style":{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"},"children":" Error"}],["$","span",null,{"style":{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},"children":" {}"}]]}],"\n",["$","span",null,{"children":" "}],"\n",["$","span",null,{"children":" "}],"\n",["$","span",null,{"children":["$","span",null,{"style":{"--shiki-light":"#6A737D","--shiki-dark":"#6A737D"},"children":"// Now"}]}],"\n",["$","span",null,{"children":[["$","span",null,{"style":{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},"children":"#[ink"}],["$","span",null,{"style":{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"},"children":"::"}],["$","span",null,{"style":{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},"children":"scale_derive("}],["$","span",null,{"style":{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"},"children":"Encode"}],["$","span",null,{"style":{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},"children":", "}],["$","span",null,{"style":{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"},"children":"Decode"}],["$","span",null,{"style":{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},"children":", "}],["$","span",null,{"style":{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"},"children":"TypeInfo"}],["$","span",null,{"style":{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},"children":")]"}]]}],"\n",["$","span",null,{"children":[["$","span",null,{"style":{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"},"children":"pub"}],["$","span",null,{"style":{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"},"children":" enum"}],["$","span",null,{"style":{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"},"children":" Error"}],["$","span",null,{"style":{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},"children":" {}"}]]}]]}]]}]]}],"\n",["$","p",null,{"className":"x:not-first:mt-6 x:leading-7","children":["The documentation of the macro can be found ",["$","a",null,{"href":"https://docs.rs/ink/5.0.0/ink/attr.scale_derive.html","target":"_blank","rel":"noreferrer","className":"x:focus-visible:nextra-focus x:text-primary-600 x:underline x:hover:no-underline x:decoration-from-font x:[text-underline-position:from-font]","children":["here",[" ",["$","svg",null,{"fill":"none","stroke":"currentColor","strokeLinecap":"round","strokeLinejoin":"round","strokeWidth":1.7,"viewBox":"0 0 24 24","height":"1em","className":"x:inline x:align-baseline x:shrink-0","children":[["$","path",null,{"d":"M7 17L17 7"}],["$","path",null,{"d":"M7 7h10v10"}]]}]]]}],"."]}],"\n",["$","h3",null,{"id":"wildcard-selectors-only-one-other-message-is-allowed-in-the-contract-besides-the-wildcard-selector","className":"x:tracking-tight x:text-slate-900 x:dark:text-slate-100 x:font-semibold x:target:animate-[fade-in_1.5s] x:mt-8 x:text-2xl","children":["Wildcard selectors: only one other message is allowed in the contract besides the wildcard selector",["$","$L10",null,{"id":"wildcard-selectors-only-one-other-message-is-allowed-in-the-contract-besides-the-wildcard-selector"}]]}],"\n",["$","p",null,{"className":"x:not-first:mt-6 x:leading-7","children":["Following ",["$","a",null,{"href":"https://blog.openzeppelin.com/security-review-ink-cargo-contract","target":"_blank","rel":"noreferrer","className":"x:focus-visible:nextra-focus x:text-primary-600 x:underline x:hover:no-underline x:decoration-from-font x:[text-underline-position:from-font]","children":["our security review by OpenZeppelin",[" ",["$","svg",null,{"fill":"none","stroke":"currentColor","strokeLinecap":"round","strokeLinejoin":"round","strokeWidth":1.7,"viewBox":"0 0 24 24","height":"1em","className":"x:inline x:align-baseline x:shrink-0","children":[["$","path",null,{"d":"M7 17L17 7"}],["$","path",null,{"d":"M7 7h10v10"}]]}]]]}],",\nwe’ve tightened the usage of wildcard selectors.\nWith ink! 5.0 we allow only exactly one other contract message with a well-known reserved\nselector to be defined. In ink! 4.x, more than one other message was allowed."]}],"\n",["$","p",null,{"className":"x:not-first:mt-6 x:leading-7","children":["Read more in ",["$","a",null,{"href":"https://github.com/use-ink/ink/pull/1708","target":"_blank","rel":"noreferrer","className":"x:focus-visible:nextra-focus x:text-primary-600 x:underline x:hover:no-underline x:decoration-from-font x:[text-underline-position:from-font]","children":["the PR",[" ",["$","svg",null,{"fill":"none","stroke":"currentColor","strokeLinecap":"round","strokeLinejoin":"round","strokeWidth":1.7,"viewBox":"0 0 24 24","height":"1em","className":"x:inline x:align-baseline x:shrink-0","children":[["$","path",null,{"d":"M7 17L17 7"}],["$","path",null,{"d":"M7 7h10v10"}]]}]]]}]," and ",["$","a",null,{"href":"https://github.com/use-ink/ink/issues/1676","target":"_blank","rel":"noreferrer","className":"x:focus-visible:nextra-focus x:text-primary-600 x:underline x:hover:no-underline x:decoration-from-font x:[text-underline-position:from-font]","children":["IIP-2: Limit contracts with a wildcard selector to one other message",[" ",["$","svg",null,{"fill":"none","stroke":"currentColor","strokeLinecap":"round","strokeLinejoin":"round","strokeWidth":1.7,"viewBox":"0 0 24 24","height":"1em","className":"x:inline x:align-baseline x:shrink-0","children":[["$","path",null,{"d":"M7 17L17 7"}],["$","path",null,{"d":"M7 7h10v10"}]]}]]]}],"."]}],"\n",["$","p",null,{"className":"x:not-first:mt-6 x:leading-7","children":"The proposal is to restrict contracts with a wildcard selector to only have one other message\nwith a reserved/well-known selector. This guarantees that there are no selector clashes,\neither by chance or malicious intent, and that the Proxy will only handle messages intended for it."}],"\n",["$","p",null,{"className":"x:not-first:mt-6 x:leading-7","children":["If a contract uses a wildcard selector ",["$","code",null,{"className":"nextra-code","dir":"ltr","children":"#[ink(message, payable, selector = _)]"}]," it ",["$","em",null,{"children":"MAY"}]," define one\nother message. This message ",["$","em",null,{"children":"MUST"}]," use the reserved selector ",["$","code",null,{"className":"nextra-code","dir":"ltr","children":"@"}],".\nThis selector ",["$","em",null,{"children":"MUST"}]," only be used in conjunction with a wildcard selector."]}],"\n",["$","div",null,{"data-pagefind-ignore":"all","className":"nextra-code x:relative x:not-first:mt-6","children":["$undefined",["$","pre",null,{"className":"x:group x:focus-visible:nextra-focus x:overflow-x-auto x:subpixel-antialiased x:text-[.9em] x:bg-white x:dark:bg-black x:py-4 x:ring-1 x:ring-inset x:ring-gray-300 x:dark:ring-neutral-700 x:contrast-more:ring-gray-900 x:contrast-more:dark:ring-gray-50 x:contrast-more:contrast-150 x:rounded-md not-prose","tabIndex":"0","children":[["$","div",null,{"className":"x:group-hover:opacity-100 x:group-focus:opacity-100 x:opacity-0 x:transition x:focus-within:opacity-100 x:flex x:gap-1 x:absolute x:right-4 x:top-2","children":[["$","$L11",null,{"children":["$","svg",null,{"viewBox":"0 0 24 24","fill":"currentColor","height":"1em","children":["$","path",null,{"d":"M4 19h6v-2H4v2zM20 5H4v2h16V5zm-3 6H4v2h13.25c1.1 0 2 .9 2 2s-.9 2-2 2H15v-2l-3 3l3 3v-2h2c2.21 0 4-1.79 4-4s-1.79-4-4-4z"}]}]}],false]}],["$","code",null,{"className":"nextra-code","dir":"ltr","children":[["$","span",null,{"children":["$","span",null,{"style":{"--shiki-light":"#6A737D","--shiki-dark":"#6A737D"},"children":"/// Handles any message with no matching selector in this proxy contract"}]}],"\n",["$","span",null,{"children":[["$","span",null,{"style":{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},"children":"#[ink(message, selector "}],["$","span",null,{"style":{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"},"children":"="}],["$","span",null,{"style":{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},"children":" _)]"}]]}],"\n",["$","span",null,{"children":[["$","span",null,{"style":{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"},"children":"pub"}],["$","span",null,{"style":{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"},"children":" fn"}],["$","span",null,{"style":{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"},"children":" fallback"}],["$","span",null,{"style":{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},"children":"("}],["$","span",null,{"style":{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"},"children":"&"}],["$","span",null,{"style":{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"},"children":"self"}],["$","span",null,{"style":{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},"children":") {"}]]}],"\n",["$","span",null,{"children":["$","span",null,{"style":{"--shiki-light":"#6A737D","--shiki-dark":"#6A737D"},"children":"    // forward call to the \"logic\" contract which actually executes the call"}]}],"\n",["$","span",null,{"children":["$","span",null,{"style":{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},"children":"}"}]}],"\n",["$","span",null,{"children":" "}],"\n",["$","span",null,{"children":[["$","span",null,{"style":{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},"children":"#[ink"}],["$","span",null,{"style":{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"},"children":"::"}],["$","span",null,{"style":{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},"children":"scale_derive("}],["$","span",null,{"style":{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"},"children":"Decode"}],["$","span",null,{"style":{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},"children":")]"}]]}],"\n",["$","span",null,{"children":[["$","span",null,{"style":{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"},"children":"pub"}],["$","span",null,{"style":{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"},"children":" enum"}],["$","span",null,{"style":{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"},"children":" ProxyMessage"}],["$","span",null,{"style":{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},"children":" {"}]]}],"\n",["$","span",null,{"children":[["$","span",null,{"style":{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"},"children":"    UpgradeContract"}],["$","span",null,{"style":{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},"children":"("}],["$","span",null,{"style":{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"},"children":"Hash"}],["$","span",null,{"style":{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},"children":"),"}]]}],"\n",["$","span",null,{"children":["$","span",null,{"style":{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},"children":"}"}]}],"\n",["$","span",null,{"children":" "}],"\n",["$","span",null,{"children":["$","span",null,{"style":{"--shiki-light":"#6A737D","--shiki-dark":"#6A737D"},"children":"/// One other message allowed to handle messages."}]}],"\n",["$","span",null,{"children":["$","span",null,{"style":{"--shiki-light":"#6A737D","--shiki-dark":"#6A737D"},"children":"/// Fails to compile unless `@` is used as the selector."}]}],"\n",["$","span",null,{"children":[["$","span",null,{"style":{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},"children":"#[ink(message, selector "}],["$","span",null,{"style":{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"},"children":"="}],["$","span",null,{"style":{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"},"children":" @"}],["$","span",null,{"style":{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},"children":")]"}]]}],"\n",["$","span",null,{"children":[["$","span",null,{"style":{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"},"children":"pub"}],["$","span",null,{"style":{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"},"children":" fn"}],["$","span",null,{"style":{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"},"children":" handler"}],["$","span",null,{"style":{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},"children":"("}],["$","span",null,{"style":{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"},"children":"&"}],["$","span",null,{"style":{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"},"children":"self"}],["$","span",null,{"style":{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},"children":", msg"}],["$","span",null,{"style":{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"},"children":":"}],["$","span",null,{"style":{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"},"children":" ProxyMessage"}],["$","span",null,{"style":{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},"children":") {"}]]}],"\n",["$","span",null,{"children":[["$","span",null,{"style":{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"},"children":"  match"}],["$","span",null,{"style":{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},"children":" msg {"}]]}],"\n",["$","span",null,{"children":[["$","span",null,{"style":{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"},"children":"    ProxyMessage"}],["$","span",null,{"style":{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},"children":"(hash) "}],["$","span",null,{"style":{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"},"children":"=>"}],["$","span",null,{"style":{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},"children":" { }"}]]}],"\n",["$","span",null,{"children":["$","span",null,{"style":{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},"children":"  }"}]}],"\n",["$","span",null,{"children":["$","span",null,{"style":{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},"children":"}"}]}],"\n",["$","span",null,{"children":" "}],"\n",["$","span",null,{"children":["$","span",null,{"style":{"--shiki-light":"#6A737D","--shiki-dark":"#6A737D"},"children":"/// An additional message. Fails to compile when uncommented."}]}],"\n",["$","span",null,{"children":["$","span",null,{"style":{"--shiki-light":"#6A737D","--shiki-dark":"#6A737D"},"children":"// #[ink(message)]"}]}],"\n",["$","span",null,{"children":["$","span",null,{"style":{"--shiki-light":"#6A737D","--shiki-dark":"#6A737D"},"children":"// pub fn additional_message(&self, msg: ProxyMessage) {"}]}],"\n",["$","span",null,{"children":["$","span",null,{"style":{"--shiki-light":"#6A737D","--shiki-dark":"#6A737D"},"children":"//    match msg {"}]}],"\n",["$","span",null,{"children":["$","span",null,{"style":{"--shiki-light":"#6A737D","--shiki-dark":"#6A737D"},"children":"//        ProxyMessage(hash) => ..."}]}],"\n",["$","span",null,{"children":["$","span",null,{"style":{"--shiki-light":"#6A737D","--shiki-dark":"#6A737D"},"children":"//    }"}]}],"\n",["$","span",null,{"children":["$","span",null,{"style":{"--shiki-light":"#6A737D","--shiki-dark":"#6A737D"},"children":"// }"}]}]]}]]}]]}],"\n",["$","h3",null,{"id":"events-20","className":"x:tracking-tight x:text-slate-900 x:dark:text-slate-100 x:font-semibold x:target:animate-[fade-in_1.5s] x:mt-8 x:text-2xl","children":["Events 2.0",["$","$L10",null,{"id":"events-20"}]]}],"\n",["$","p",null,{"className":"x:not-first:mt-6 x:leading-7","children":["In prior ink! versions, events were defined inside the ",["$","code",null,{"className":"nextra-code","dir":"ltr","children":"#[ink::contract]"}]," macro.\nWith ink! 5.0 we decouple events from the ",["$","code",null,{"className":"nextra-code","dir":"ltr","children":"#[ink::contract]"}]," macro,\nallowing events to be shared between contracts.\nWe’ve updated ",["$","$L12",null,{"href":"../basics/events","className":"x:focus-visible:nextra-focus x:text-primary-600 x:underline x:hover:no-underline x:decoration-from-font x:[text-underline-position:from-font]","children":"the Events documentation page"}]," accordingly."]}],"\n",["$","p",null,{"className":"x:not-first:mt-6 x:leading-7","children":["The syntax of defining events within the main ",["$","code",null,{"className":"nextra-code","dir":"ltr","children":"#[ink::contract]"}]," macro will continue to work,\nno code changes in existing contracts are required to update to the new syntax."]}],"\n",["$","p",null,{"className":"x:not-first:mt-6 x:leading-7","children":[":::caution\nThe topic calculation changed in general, so also for events that are declared inside the\n",["$","code",null,{"className":"nextra-code","dir":"ltr","children":"#[ink::contract]"}]," macro!"]}],"\n",["$","p",null,{"className":"x:not-first:mt-6 x:leading-7","children":"This is a breaking change for any client code which uses topics to filter events."}],"\n",["$","p",null,{"className":"x:not-first:mt-6 x:leading-7","children":["Please see ",["$","a",null,{"href":"https://github.com/use-ink/ink/pull/1827","target":"_blank","rel":"noreferrer","className":"x:focus-visible:nextra-focus x:text-primary-600 x:underline x:hover:no-underline x:decoration-from-font x:[text-underline-position:from-font]","children":["#1827",[" ",["$","svg",null,{"fill":"none","stroke":"currentColor","strokeLinecap":"round","strokeLinejoin":"round","strokeWidth":1.7,"viewBox":"0 0 24 24","height":"1em","className":"x:inline x:align-baseline x:shrink-0","children":[["$","path",null,{"d":"M7 17L17 7"}],["$","path",null,{"d":"M7 7h10v10"}]]}]]]}]," for details.\n:::"]}],"\n",["$","h4",null,{"id":"custom-signature-topics","className":"x:tracking-tight x:text-slate-900 x:dark:text-slate-100 x:font-semibold x:target:animate-[fade-in_1.5s] x:mt-8 x:text-xl","children":["Custom signature topics",["$","$L10",null,{"id":"custom-signature-topics"}]]}],"\n",["$","p",null,{"className":"x:not-first:mt-6 x:leading-7","children":["In ",["$","a",null,{"href":"https://github.com/use-ink/ink/pull/2031","target":"_blank","rel":"noreferrer","className":"x:focus-visible:nextra-focus x:text-primary-600 x:underline x:hover:no-underline x:decoration-from-font x:[text-underline-position:from-font]","children":["#2031",[" ",["$","svg",null,{"fill":"none","stroke":"currentColor","strokeLinecap":"round","strokeLinejoin":"round","strokeWidth":1.7,"viewBox":"0 0 24 24","height":"1em","className":"x:inline x:align-baseline x:shrink-0","children":[["$","path",null,{"d":"M7 17L17 7"}],["$","path",null,{"d":"M7 7h10v10"}]]}]]]}]," we introduced an\noptional attribute ",["$","code",null,{"className":"nextra-code","dir":"ltr","children":"signature_topic"}]," to the ",["$","code",null,{"className":"nextra-code","dir":"ltr","children":"#[ink::event]"}]," and ",["$","code",null,{"className":"nextra-code","dir":"ltr","children":"#[ink(event)]"}]," macros.\nIt can be used to specify the signature topic for a specific event manually, instead of the\nautomatic topic calculation."]}],"\n",["$","h3",null,{"id":"no-more-unchecked-arithmetic","className":"x:tracking-tight x:text-slate-900 x:dark:text-slate-100 x:font-semibold x:target:animate-[fade-in_1.5s] x:mt-8 x:text-2xl","children":["No more unchecked arithmetic",["$","$L10",null,{"id":"no-more-unchecked-arithmetic"}]]}],"\n",["$","p",null,{"className":"x:not-first:mt-6 x:leading-7","children":"Unchecked arithmetic operations in a contract are no longer supported for arithmetic\nsafety reasons. Compiling a contract that contains those will fail gracefully."}],"\n",["$","p",null,{"className":"x:not-first:mt-6 x:leading-7","children":["If you haven’t already done, you now need to handle overflows that could occur.\nRust supports different possibilities of doing so (saturating, “wrap around”,\nand unchecked arithmetic operations) .\nSee ",["$","a",null,{"href":"https://doc.rust-lang.org/book/ch03-02-data-types.html#scalar-types","target":"_blank","rel":"noreferrer","className":"x:focus-visible:nextra-focus x:text-primary-600 x:underline x:hover:no-underline x:decoration-from-font x:[text-underline-position:from-font]","children":["this",[" ",["$","svg",null,{"fill":"none","stroke":"currentColor","strokeLinecap":"round","strokeLinejoin":"round","strokeWidth":1.7,"viewBox":"0 0 24 24","height":"1em","className":"x:inline x:align-baseline x:shrink-0","children":[["$","path",null,{"d":"M7 17L17 7"}],["$","path",null,{"d":"M7 7h10v10"}]]}]]]}]," section\nof the Rust Programming Language for a thorough explanation on how to do safe arithmetic\noperations in Rust."]}],"\n",["$","p",null,{"className":"x:not-first:mt-6 x:leading-7","children":["This change was introduced in ",["$","a",null,{"href":"https://github.com/use-ink/ink/pull/1831","target":"_blank","rel":"noreferrer","className":"x:focus-visible:nextra-focus x:text-primary-600 x:underline x:hover:no-underline x:decoration-from-font x:[text-underline-position:from-font]","children":["#1831",[" ",["$","svg",null,{"fill":"none","stroke":"currentColor","strokeLinecap":"round","strokeLinejoin":"round","strokeWidth":1.7,"viewBox":"0 0 24 24","height":"1em","className":"x:inline x:align-baseline x:shrink-0","children":[["$","path",null,{"d":"M7 17L17 7"}],["$","path",null,{"d":"M7 7h10v10"}]]}]]]}],"."]}],"\n",["$","h3",null,{"id":"fail-when-decoding-from-storage-and-not-all-bytes-consumed","className":"x:tracking-tight x:text-slate-900 x:dark:text-slate-100 x:font-semibold x:target:animate-[fade-in_1.5s] x:mt-8 x:text-2xl","children":["Fail when decoding from storage and not all bytes consumed",["$","$L10",null,{"id":"fail-when-decoding-from-storage-and-not-all-bytes-consumed"}]]}],"\n",["$","p",null,{"className":"x:not-first:mt-6 x:leading-7","children":"If a contract previously relied on successful decoding which does not consume all bytes,\nthen recompiling with a version of ink! which includes this change will cause that contract\nto trap at runtime when attempting to decode."}],"\n",["$","p",null,{"className":"x:not-first:mt-6 x:leading-7","children":["A simple example would be if a storage cell contains some bytes which were in the first place\nan encoded ",["$","code",null,{"className":"nextra-code","dir":"ltr","children":"u32"}],". If the contract attempts to decode those into a ",["$","code",null,{"className":"nextra-code","dir":"ltr","children":"u8"}],"\nthis would previously have succeeded, now the contract would trap."]}],"\n",["$","p",null,{"className":"x:not-first:mt-6 x:leading-7","children":"Here’s a code example of behavior that previously worked for ink! 4.x, but\nwould error now:"}],"\n",["$","div",null,{"data-pagefind-ignore":"all","className":"nextra-code x:relative x:not-first:mt-6","children":["$undefined",["$","pre",null,{"className":"x:group x:focus-visible:nextra-focus x:overflow-x-auto x:subpixel-antialiased x:text-[.9em] x:bg-white x:dark:bg-black x:py-4 x:ring-1 x:ring-inset x:ring-gray-300 x:dark:ring-neutral-700 x:contrast-more:ring-gray-900 x:contrast-more:dark:ring-gray-50 x:contrast-more:contrast-150 x:rounded-md not-prose","tabIndex":"0","children":[["$","div",null,{"className":"x:group-hover:opacity-100 x:group-focus:opacity-100 x:opacity-0 x:transition x:focus-within:opacity-100 x:flex x:gap-1 x:absolute x:right-4 x:top-2","children":[["$","$L11",null,{"children":["$","svg",null,{"viewBox":"0 0 24 24","fill":"currentColor","height":"1em","children":["$","path",null,{"d":"M4 19h6v-2H4v2zM20 5H4v2h16V5zm-3 6H4v2h13.25c1.1 0 2 .9 2 2s-.9 2-2 2H15v-2l-3 3l3 3v-2h2c2.21 0 4-1.79 4-4s-1.79-4-4-4z"}]}]}],false]}],["$","code",null,{"className":"nextra-code","dir":"ltr","children":[["$","span",null,{"children":[["$","span",null,{"style":{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"},"children":"let"}],["$","span",null,{"style":{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},"children":" key "}],["$","span",null,{"style":{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"},"children":"="}],["$","span",null,{"style":{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"},"children":" 0"}],["$","span",null,{"style":{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"},"children":"u32"}],["$","span",null,{"style":{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},"children":";"}]]}],"\n",["$","span",null,{"children":[["$","span",null,{"style":{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"},"children":"let"}],["$","span",null,{"style":{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},"children":" value "}],["$","span",null,{"style":{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"},"children":"="}],["$","span",null,{"style":{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},"children":" ["}],["$","span",null,{"style":{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"},"children":"0x42"}],["$","span",null,{"style":{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},"children":"; "}],["$","span",null,{"style":{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"},"children":"32"}],["$","span",null,{"style":{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},"children":"];"}]]}],"\n",["$","span",null,{"children":[["$","span",null,{"style":{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"},"children":"ink"}],["$","span",null,{"style":{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"},"children":"::"}],["$","span",null,{"style":{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"},"children":"env"}],["$","span",null,{"style":{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"},"children":"::"}],["$","span",null,{"style":{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"},"children":"set_contract_storage"}],["$","span",null,{"style":{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},"children":"("}],["$","span",null,{"style":{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"},"children":"&"}],["$","span",null,{"style":{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},"children":"key, "}],["$","span",null,{"style":{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"},"children":"&"}],["$","span",null,{"style":{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},"children":"value);"}]]}],"\n",["$","span",null,{"children":" "}],"\n",["$","span",null,{"children":["$","span",null,{"style":{"--shiki-light":"#6A737D","--shiki-dark":"#6A737D"},"children":"// Only attempt to read the first byte (the `u8`) of the storage value data"}]}],"\n",["$","span",null,{"children":[["$","span",null,{"style":{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"},"children":"let"}],["$","span",null,{"style":{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},"children":" _loaded_value"}],["$","span",null,{"style":{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"},"children":":"}],["$","span",null,{"style":{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"},"children":" Option"}],["$","span",null,{"style":{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},"children":"<"}],["$","span",null,{"style":{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"},"children":"u8"}],["$","span",null,{"style":{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},"children":"> "}],["$","span",null,{"style":{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"},"children":"="}],["$","span",null,{"style":{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"},"children":" ink"}],["$","span",null,{"style":{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"},"children":"::"}],["$","span",null,{"style":{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"},"children":"env"}],["$","span",null,{"style":{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"},"children":"::"}],["$","span",null,{"style":{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"},"children":"get_contract_storage"}],["$","span",null,{"style":{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},"children":"("}],["$","span",null,{"style":{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"},"children":"&"}],["$","span",null,{"style":{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},"children":"key)"}]]}],"\n",["$","span",null,{"children":[["$","span",null,{"style":{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"},"children":"    ."}],["$","span",null,{"style":{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"},"children":"map_err"}],["$","span",null,{"style":{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},"children":"("}],["$","span",null,{"style":{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"},"children":"|"}],["$","span",null,{"style":{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},"children":"e"}],["$","span",null,{"style":{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"},"children":"|"}],["$","span",null,{"style":{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"},"children":" format!"}],["$","span",null,{"style":{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},"children":"("}],["$","span",null,{"style":{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"},"children":"\"get_contract_storage failed: {:?}\""}],["$","span",null,{"style":{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},"children":", e))"}],["$","span",null,{"style":{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"},"children":"?"}],["$","span",null,{"style":{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},"children":";"}]]}]]}]]}]]}],"\n",["$","p",null,{"className":"x:not-first:mt-6 x:leading-7","children":["We introduced this change in ",["$","a",null,{"href":"https://github.com/use-ink/ink/pull/1897","target":"_blank","rel":"noreferrer","className":"x:focus-visible:nextra-focus x:text-primary-600 x:underline x:hover:no-underline x:decoration-from-font x:[text-underline-position:from-font]","children":["#1897",[" ",["$","svg",null,{"fill":"none","stroke":"currentColor","strokeLinecap":"round","strokeLinejoin":"round","strokeWidth":1.7,"viewBox":"0 0 24 24","height":"1em","className":"x:inline x:align-baseline x:shrink-0","children":[["$","path",null,{"d":"M7 17L17 7"}],["$","path",null,{"d":"M7 7h10v10"}]]}]]]}],"."]}],"\n",["$","h3",null,{"id":"ink_e2e-api-changes","className":"x:tracking-tight x:text-slate-900 x:dark:text-slate-100 x:font-semibold x:target:animate-[fade-in_1.5s] x:mt-8 x:text-2xl","children":["[ink_e2e] API Changes",["$","$L10",null,{"id":"ink_e2e-api-changes"}]]}],"\n",["$","h4",null,{"id":"builder-api","className":"x:tracking-tight x:text-slate-900 x:dark:text-slate-100 x:font-semibold x:target:animate-[fade-in_1.5s] x:mt-8 x:text-xl","children":["Builder API",["$","$L10",null,{"id":"builder-api"}]]}],"\n",["$","p",null,{"className":"x:not-first:mt-6 x:leading-7","children":["In ",["$","a",null,{"href":"https://github.com/use-ink/ink/pull/1917","target":"_blank","rel":"noreferrer","className":"x:focus-visible:nextra-focus x:text-primary-600 x:underline x:hover:no-underline x:decoration-from-font x:[text-underline-position:from-font]","children":["#1917",[" ",["$","svg",null,{"fill":"none","stroke":"currentColor","strokeLinecap":"round","strokeLinejoin":"round","strokeWidth":1.7,"viewBox":"0 0 24 24","height":"1em","className":"x:inline x:align-baseline x:shrink-0","children":[["$","path",null,{"d":"M7 17L17 7"}],["$","path",null,{"d":"M7 7h10v10"}]]}]]]}]," we reworked the E2E API with\na builder API.\n",["$","code",null,{"className":"nextra-code","dir":"ltr","children":"instantiate"}],", ",["$","code",null,{"className":"nextra-code","dir":"ltr","children":"call"}]," and ",["$","code",null,{"className":"nextra-code","dir":"ltr","children":"upload"}]," will now return a builder instance. You can\nspecify optional arguments with builder methods, and submit the call for on-chain\nexecution with the ",["$","code",null,{"className":"nextra-code","dir":"ltr","children":".submit()"}]," method, or dry-run it with ",["$","code",null,{"className":"nextra-code","dir":"ltr","children":"dry_run()"}],"."]}],"\n",["$","div",null,{"data-pagefind-ignore":"all","className":"nextra-code x:relative x:not-first:mt-6","children":["$undefined",["$","pre",null,{"className":"x:group x:focus-visible:nextra-focus x:overflow-x-auto x:subpixel-antialiased x:text-[.9em] x:bg-white x:dark:bg-black x:py-4 x:ring-1 x:ring-inset x:ring-gray-300 x:dark:ring-neutral-700 x:contrast-more:ring-gray-900 x:contrast-more:dark:ring-gray-50 x:contrast-more:contrast-150 x:rounded-md not-prose","tabIndex":"0","children":[["$","div",null,{"className":"x:group-hover:opacity-100 x:group-focus:opacity-100 x:opacity-0 x:transition x:focus-within:opacity-100 x:flex x:gap-1 x:absolute x:right-4 x:top-2","children":[["$","$L11",null,{"children":["$","svg",null,{"viewBox":"0 0 24 24","fill":"currentColor","height":"1em","children":["$","path",null,{"d":"M4 19h6v-2H4v2zM20 5H4v2h16V5zm-3 6H4v2h13.25c1.1 0 2 .9 2 2s-.9 2-2 2H15v-2l-3 3l3 3v-2h2c2.21 0 4-1.79 4-4s-1.79-4-4-4z"}]}]}],false]}],["$","code",null,{"className":"nextra-code","dir":"ltr","children":[["$","span",null,{"children":[["$","span",null,{"style":{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"},"children":"let"}],["$","span",null,{"style":{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},"children":" contract "}],["$","span",null,{"style":{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"},"children":"="}],["$","span",null,{"style":{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},"children":" client"}]]}],"\n",["$","span",null,{"children":[["$","span",null,{"style":{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"},"children":"    ."}],["$","span",null,{"style":{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"},"children":"instantiate"}],["$","span",null,{"style":{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},"children":"("}],["$","span",null,{"style":{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"},"children":"\"flipper\""}],["$","span",null,{"style":{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},"children":", "}],["$","span",null,{"style":{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"},"children":"&"}],["$","span",null,{"style":{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"},"children":"ink_e2e"}],["$","span",null,{"style":{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"},"children":"::"}],["$","span",null,{"style":{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"},"children":"alice"}],["$","span",null,{"style":{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},"children":"(), "}],["$","span",null,{"style":{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"},"children":"&mut"}],["$","span",null,{"style":{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},"children":" constructor)"}]]}],"\n",["$","span",null,{"children":[["$","span",null,{"style":{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"},"children":"    ."}],["$","span",null,{"style":{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"},"children":"submit"}],["$","span",null,{"style":{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},"children":"()"}]]}],"\n",["$","span",null,{"children":["$","span",null,{"style":{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"},"children":"    .await"}]}],"\n",["$","span",null,{"children":[["$","span",null,{"style":{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"},"children":"    ."}],["$","span",null,{"style":{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"},"children":"expect"}],["$","span",null,{"style":{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},"children":"("}],["$","span",null,{"style":{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"},"children":"\"instantiate failed\""}],["$","span",null,{"style":{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},"children":");"}]]}],"\n",["$","span",null,{"children":[["$","span",null,{"style":{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"},"children":"let"}],["$","span",null,{"style":{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"},"children":" mut"}],["$","span",null,{"style":{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},"children":" call_builder "}],["$","span",null,{"style":{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"},"children":"="}],["$","span",null,{"style":{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},"children":" contract"}],["$","span",null,{"style":{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"},"children":"."}],["$","span",null,{"style":{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"},"children":"call_builder"}],["$","span",null,{"style":{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"},"children":"::"}],["$","span",null,{"style":{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},"children":"<"}],["$","span",null,{"style":{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"},"children":"Flipper"}],["$","span",null,{"style":{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},"children":">();"}]]}],"\n",["$","span",null,{"children":" "}],"\n",["$","span",null,{"children":[["$","span",null,{"style":{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"},"children":"let"}],["$","span",null,{"style":{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},"children":" get "}],["$","span",null,{"style":{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"},"children":"="}],["$","span",null,{"style":{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},"children":" call_builder"}],["$","span",null,{"style":{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"},"children":"."}],["$","span",null,{"style":{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"},"children":"get"}],["$","span",null,{"style":{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},"children":"();"}]]}],"\n",["$","span",null,{"children":[["$","span",null,{"style":{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"},"children":"let"}],["$","span",null,{"style":{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},"children":" get_res "}],["$","span",null,{"style":{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"},"children":"="}],["$","span",null,{"style":{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},"children":" client"}],["$","span",null,{"style":{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"},"children":"."}],["$","span",null,{"style":{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"},"children":"call"}],["$","span",null,{"style":{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},"children":"("}],["$","span",null,{"style":{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"},"children":"&"}],["$","span",null,{"style":{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"},"children":"ink_e2e"}],["$","span",null,{"style":{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"},"children":"::"}],["$","span",null,{"style":{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"},"children":"bob"}],["$","span",null,{"style":{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},"children":"(), "}],["$","span",null,{"style":{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"},"children":"&"}],["$","span",null,{"style":{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},"children":"get)"}],["$","span",null,{"style":{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"},"children":"."}],["$","span",null,{"style":{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"},"children":"dry_run"}],["$","span",null,{"style":{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},"children":"()"}],["$","span",null,{"style":{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"},"children":".await"}],["$","span",null,{"style":{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},"children":";"}]]}],"\n",["$","span",null,{"children":[["$","span",null,{"style":{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"},"children":"assert!"}],["$","span",null,{"style":{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},"children":"("}],["$","span",null,{"style":{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"},"children":"matches!"}],["$","span",null,{"style":{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},"children":"(get_res"}],["$","span",null,{"style":{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"},"children":"."}],["$","span",null,{"style":{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"},"children":"return_value"}],["$","span",null,{"style":{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},"children":"(), "}],["$","span",null,{"style":{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"},"children":"false"}],["$","span",null,{"style":{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},"children":"));"}]]}]]}]]}]]}],"\n",["$","h4",null,{"id":"extra-gas-margin","className":"x:tracking-tight x:text-slate-900 x:dark:text-slate-100 x:font-semibold x:target:animate-[fade-in_1.5s] x:mt-8 x:text-xl","children":["Extra gas margin",["$","$L10",null,{"id":"extra-gas-margin"}]]}],"\n",["$","p",null,{"className":"x:not-first:mt-6 x:leading-7","children":["As part of ",["$","a",null,{"href":"https://github.com/use-ink/ink/pull/1917","target":"_blank","rel":"noreferrer","className":"x:focus-visible:nextra-focus x:text-primary-600 x:underline x:hover:no-underline x:decoration-from-font x:[text-underline-position:from-font]","children":["#1917",[" ",["$","svg",null,{"fill":"none","stroke":"currentColor","strokeLinecap":"round","strokeLinejoin":"round","strokeWidth":1.7,"viewBox":"0 0 24 24","height":"1em","className":"x:inline x:align-baseline x:shrink-0","children":[["$","path",null,{"d":"M7 17L17 7"}],["$","path",null,{"d":"M7 7h10v10"}]]}]]]}]," we added the possibility\nto specify a gas margin (in percentage) as part of the on-chain call."]}],"\n",["$","p",null,{"className":"x:not-first:mt-6 x:leading-7","children":"There are cases when gas estimates may not necessarily be accurate enough due to the complexity\nof the smart contract logic that adds additional overhead and gas consumption.\nTherefore, it is helpful to allow to specify an extra portion of the gas to be added to the\nlimit (i.e. 5%, 10%)."}],"\n",["$","p",null,{"className":"x:not-first:mt-6 x:leading-7","children":["The method ",["$","code",null,{"className":"nextra-code","dir":"ltr","children":".extra_gas_portion(margin: u64)"}]," method is part of the builder API:"]}],"\n",["$","ul",null,{"className":"x:[:is(ol,ul)_&]:my-3 x:not-first:mt-6 x:list-disc x:ms-6","children":["\n",["$","li",null,{"className":"x:my-2","children":["$","a",null,{"href":"https://docs.rs/ink_e2e/5.0.0/ink_e2e/struct.InstantiateBuilder.html#method.extra_gas_portion","target":"_blank","rel":"noreferrer","className":"x:focus-visible:nextra-focus x:text-primary-600 x:underline x:hover:no-underline x:decoration-from-font x:[text-underline-position:from-font]","children":[["$","code",null,{"className":"nextra-code","dir":"ltr","children":"ink_e2e::InstantiateBuilder::extra_gas_portion"}],false]}]}],"\n",["$","li",null,{"className":"x:my-2","children":["$","a",null,{"href":"https://docs.rs/ink_e2e/5.0.0/ink_e2e/struct.CallBuilder.html#method.extra_gas_portion","target":"_blank","rel":"noreferrer","className":"x:focus-visible:nextra-focus x:text-primary-600 x:underline x:hover:no-underline x:decoration-from-font x:[text-underline-position:from-font]","children":[["$","code",null,{"className":"nextra-code","dir":"ltr","children":"ink_e2e::CallBuilder::extra_gas_portion"}],false]}]}],"\n"]}],"\n",["$","h4",null,{"id":"improved-call-api","className":"x:tracking-tight x:text-slate-900 x:dark:text-slate-100 x:font-semibold x:target:animate-[fade-in_1.5s] x:mt-8 x:text-xl","children":[["Improved ",["$","code",null,{"className":"nextra-code","dir":"ltr","children":"call()"}]," API"],["$","$L10",null,{"id":"improved-call-api"}]]}],"\n",["$","p",null,{"className":"x:not-first:mt-6 x:leading-7","children":["We removed the ",["$","code",null,{"className":"nextra-code","dir":"ltr","children":"build_message()"}]," function with its unhandy callback."]}],"\n",["$","div",null,{"data-pagefind-ignore":"all","className":"nextra-code x:relative x:not-first:mt-6","children":["$undefined",["$","pre",null,{"className":"x:group x:focus-visible:nextra-focus x:overflow-x-auto x:subpixel-antialiased x:text-[.9em] x:bg-white x:dark:bg-black x:py-4 x:ring-1 x:ring-inset x:ring-gray-300 x:dark:ring-neutral-700 x:contrast-more:ring-gray-900 x:contrast-more:dark:ring-gray-50 x:contrast-more:contrast-150 x:rounded-md not-prose","tabIndex":"0","children":[["$","div",null,{"className":"x:group-hover:opacity-100 x:group-focus:opacity-100 x:opacity-0 x:transition x:focus-within:opacity-100 x:flex x:gap-1 x:absolute x:right-4 x:top-2","children":[["$","$L11",null,{"children":["$","svg",null,{"viewBox":"0 0 24 24","fill":"currentColor","height":"1em","children":["$","path",null,{"d":"M4 19h6v-2H4v2zM20 5H4v2h16V5zm-3 6H4v2h13.25c1.1 0 2 .9 2 2s-.9 2-2 2H15v-2l-3 3l3 3v-2h2c2.21 0 4-1.79 4-4s-1.79-4-4-4z"}]}]}],false]}],["$","code",null,{"className":"nextra-code","dir":"ltr","children":[["$","span",null,{"children":["$","span",null,{"style":{"--shiki-light":"#6A737D","--shiki-dark":"#6A737D"},"children":"// Previously"}]}],"\n",["$","span",null,{"children":[["$","span",null,{"style":{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"},"children":"let"}],["$","span",null,{"style":{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},"children":" first_insert "}],["$","span",null,{"style":{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"},"children":"="}],["$","span",null,{"style":{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"},"children":" ink_e2e"}],["$","span",null,{"style":{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"},"children":"::"}],["$","span",null,{"style":{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"},"children":"build_message"}],["$","span",null,{"style":{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"},"children":"::"}],["$","span",null,{"style":{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},"children":"<"}],["$","span",null,{"style":{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"},"children":"MappingsRef"}],["$","span",null,{"style":{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},"children":">(contract_id)"}]]}],"\n",["$","span",null,{"children":[["$","span",null,{"style":{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"},"children":"    ."}],["$","span",null,{"style":{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"},"children":"call"}],["$","span",null,{"style":{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},"children":"("}],["$","span",null,{"style":{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"},"children":"|"}],["$","span",null,{"style":{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},"children":"contract"}],["$","span",null,{"style":{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"},"children":"|"}],["$","span",null,{"style":{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},"children":" contract"}],["$","span",null,{"style":{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"},"children":"."}],["$","span",null,{"style":{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"},"children":"insert_balance"}],["$","span",null,{"style":{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},"children":"("}],["$","span",null,{"style":{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"},"children":"1_000"}],["$","span",null,{"style":{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},"children":"));"}]]}],"\n",["$","span",null,{"children":" "}],"\n",["$","span",null,{"children":["$","span",null,{"style":{"--shiki-light":"#6A737D","--shiki-dark":"#6A737D"},"children":"// Now"}]}],"\n",["$","span",null,{"children":[["$","span",null,{"style":{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"},"children":"let"}],["$","span",null,{"style":{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},"children":" first_insert "}],["$","span",null,{"style":{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"},"children":"="}],["$","span",null,{"style":{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"},"children":" ink_e2e"}],["$","span",null,{"style":{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"},"children":"::"}],["$","span",null,{"style":{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"},"children":"build_message"}],["$","span",null,{"style":{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"},"children":"::"}],["$","span",null,{"style":{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},"children":"<"}],["$","span",null,{"style":{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"},"children":"MappingsRef"}],["$","span",null,{"style":{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},"children":">(contract_id)"}]]}],"\n",["$","span",null,{"children":[["$","span",null,{"style":{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"},"children":"    ."}],["$","span",null,{"style":{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"},"children":"call"}],["$","span",null,{"style":{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},"children":"()"}],["$","span",null,{"style":{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"},"children":"."}],["$","span",null,{"style":{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"},"children":"insert_balance"}],["$","span",null,{"style":{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},"children":"("}],["$","span",null,{"style":{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"},"children":"1_000"}],["$","span",null,{"style":{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},"children":"));"}]]}]]}]]}]]}],"\n",["$","p",null,{"className":"x:not-first:mt-6 x:leading-7","children":["See ",["$","a",null,{"href":"https://github.com/use-ink/ink/pull/1782","target":"_blank","rel":"noreferrer","className":"x:focus-visible:nextra-focus x:text-primary-600 x:underline x:hover:no-underline x:decoration-from-font x:[text-underline-position:from-font]","children":["#1782",[" ",["$","svg",null,{"fill":"none","stroke":"currentColor","strokeLinecap":"round","strokeLinejoin":"round","strokeWidth":1.7,"viewBox":"0 0 24 24","height":"1em","className":"x:inline x:align-baseline x:shrink-0","children":[["$","path",null,{"d":"M7 17L17 7"}],["$","path",null,{"d":"M7 7h10v10"}]]}]]]}]," for more details."]}],"\n",["$","h4",null,{"id":"removed-additional_contracts-parameter","className":"x:tracking-tight x:text-slate-900 x:dark:text-slate-100 x:font-semibold x:target:animate-[fade-in_1.5s] x:mt-8 x:text-xl","children":[["Removed ",["$","code",null,{"className":"nextra-code","dir":"ltr","children":"additional_contracts"}]," parameter"],["$","$L10",null,{"id":"removed-additional_contracts-parameter"}]]}],"\n",["$","p",null,{"className":"x:not-first:mt-6 x:leading-7","children":[["$","code",null,{"className":"nextra-code","dir":"ltr","children":"additional_contracts"}]," parameter which is part of ",["$","code",null,{"className":"nextra-code","dir":"ltr","children":"#[ink_e2e:test]"}]," has been removed in ",["$","a",null,{"href":"https://github.com/use-ink/ink/pull/2098","target":"_blank","rel":"noreferrer","className":"x:focus-visible:nextra-focus x:text-primary-600 x:underline x:hover:no-underline x:decoration-from-font x:[text-underline-position:from-font]","children":["#2098",[" ",["$","svg",null,{"fill":"none","stroke":"currentColor","strokeLinecap":"round","strokeLinejoin":"round","strokeWidth":1.7,"viewBox":"0 0 24 24","height":"1em","className":"x:inline x:align-baseline x:shrink-0","children":[["$","path",null,{"d":"M7 17L17 7"}],["$","path",null,{"d":"M7 7h10v10"}]]}]]]}],".\nThis information is now implied from the contract’s manifest.\nSimply, add the other contract as dependency with the ",["$","code",null,{"className":"nextra-code","dir":"ltr","children":"ink-as-a-dependency"}]," feature enabled.\nThe test will detect the contract and build it as part of the test."]}],"\n",["$","h4",null,{"id":"","className":"x:tracking-tight x:text-slate-900 x:dark:text-slate-100 x:font-semibold x:target:animate-[fade-in_1.5s] x:mt-8 x:text-xl","children":["",""]}],"\n",["$","p",null,{"className":"x:not-first:mt-6 x:leading-7","children":["In ",["$","a",null,{"href":"https://github.com/use-ink/ink/pull/2076","target":"_blank","rel":"noreferrer","className":"x:focus-visible:nextra-focus x:text-primary-600 x:underline x:hover:no-underline x:decoration-from-font x:[text-underline-position:from-font]","children":["#2076",[" ",["$","svg",null,{"fill":"none","stroke":"currentColor","strokeLinecap":"round","strokeLinejoin":"round","strokeWidth":1.7,"viewBox":"0 0 24 24","height":"1em","className":"x:inline x:align-baseline x:shrink-0","children":[["$","path",null,{"d":"M7 17L17 7"}],["$","path",null,{"d":"M7 7h10v10"}]]}]]]}],", we’ve added a new\n",["$","a",null,{"href":"https://docs.rs/ink_e2e/5.0.0/ink_e2e/trait.ContractsBackend.html#method.remove_code","target":"_blank","rel":"noreferrer","className":"x:focus-visible:nextra-focus x:text-primary-600 x:underline x:hover:no-underline x:decoration-from-font x:[text-underline-position:from-font]","children":[["$","code",null,{"className":"nextra-code","dir":"ltr","children":"remove_code"}],false]}],"\nfunction to the E2E API:"]}],"\n",["$","div",null,{"data-pagefind-ignore":"all","className":"nextra-code x:relative x:not-first:mt-6","children":["$undefined",["$","pre",null,{"className":"x:group x:focus-visible:nextra-focus x:overflow-x-auto x:subpixel-antialiased x:text-[.9em] x:bg-white x:dark:bg-black x:py-4 x:ring-1 x:ring-inset x:ring-gray-300 x:dark:ring-neutral-700 x:contrast-more:ring-gray-900 x:contrast-more:dark:ring-gray-50 x:contrast-more:contrast-150 x:rounded-md not-prose","tabIndex":"0","children":[["$","div",null,{"className":"x:group-hover:opacity-100 x:group-focus:opacity-100 x:opacity-0 x:transition x:focus-within:opacity-100 x:flex x:gap-1 x:absolute x:right-4 x:top-2","children":[["$","$L11",null,{"children":["$","svg",null,{"viewBox":"0 0 24 24","fill":"currentColor","height":"1em","children":["$","path",null,{"d":"M4 19h6v-2H4v2zM20 5H4v2h16V5zm-3 6H4v2h13.25c1.1 0 2 .9 2 2s-.9 2-2 2H15v-2l-3 3l3 3v-2h2c2.21 0 4-1.79 4-4s-1.79-4-4-4z"}]}]}],false]}],["$","code",null,{"className":"nextra-code","dir":"ltr","children":[["$","span",null,{"children":[["$","span",null,{"style":{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"},"children":"let"}],["$","span",null,{"style":{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},"children":" contract "}],["$","span",null,{"style":{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"},"children":"="}],["$","span",null,{"style":{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},"children":" client"}]]}],"\n",["$","span",null,{"children":[["$","span",null,{"style":{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"},"children":"    ."}],["$","span",null,{"style":{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"},"children":"remove_code"}],["$","span",null,{"style":{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},"children":"("}],["$","span",null,{"style":{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"},"children":"&"}],["$","span",null,{"style":{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"},"children":"ink_e2e"}],["$","span",null,{"style":{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"},"children":"::"}],["$","span",null,{"style":{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"},"children":"alice"}],["$","span",null,{"style":{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},"children":"(), code_hash)"}]]}],"\n",["$","span",null,{"children":["$","span",null,{"style":{"--shiki-light":"#6A737D","--shiki-dark":"#6A737D"},"children":"    // Submit the call for on-chain execution."}]}],"\n",["$","span",null,{"children":[["$","span",null,{"style":{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"},"children":"    ."}],["$","span",null,{"style":{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"},"children":"submit"}],["$","span",null,{"style":{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},"children":"()"}]]}],"\n",["$","span",null,{"children":["$","span",null,{"style":{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"},"children":"    .await"}]}],"\n",["$","span",null,{"children":[["$","span",null,{"style":{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"},"children":"    ."}],["$","span",null,{"style":{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"},"children":"expect"}],["$","span",null,{"style":{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},"children":"("}],["$","span",null,{"style":{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"},"children":"\"remove failed\""}],["$","span",null,{"style":{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},"children":");"}]]}]]}]]}]]}],"\n",["$","h3",null,{"id":"new-data-structure-storagevec","className":"x:tracking-tight x:text-slate-900 x:dark:text-slate-100 x:font-semibold x:target:animate-[fade-in_1.5s] x:mt-8 x:text-2xl","children":[["New Data Structure: ",["$","code",null,{"className":"nextra-code","dir":"ltr","children":"StorageVec"}]],["$","$L10",null,{"id":"new-data-structure-storagevec"}]]}],"\n",["$","p",null,{"className":"x:not-first:mt-6 x:leading-7","children":["We’ve added a ",["$","code",null,{"className":"nextra-code","dir":"ltr","children":"Vec"}],"-like data structure, built on top of Mapping."]}],"\n",["$","p",null,{"className":"x:not-first:mt-6 x:leading-7","children":["This allows to retrieve elements from a vector and grow it without\nhaving to load and push all elements.\nFor ",["$","code",null,{"className":"nextra-code","dir":"ltr","children":"Vec"}],", the cost of reading or writing a single element grows linearly corresponding\nto the number of elements in the vector (its length). Additionally, the maximum capacity\nof the whole vector is limited by the size of ",["$","a",null,{"href":"https://github.com/use-ink/ink/blob/master/ARCHITECTURE.md#communication-with-the-pallet","target":"_blank","rel":"noreferrer","className":"x:focus-visible:nextra-focus x:text-primary-600 x:underline x:hover:no-underline x:decoration-from-font x:[text-underline-position:from-font]","children":["ink!‘s static buffer",[" ",["$","svg",null,{"fill":"none","stroke":"currentColor","strokeLinecap":"round","strokeLinejoin":"round","strokeWidth":1.7,"viewBox":"0 0 24 24","height":"1em","className":"x:inline x:align-baseline x:shrink-0","children":[["$","path",null,{"d":"M7 17L17 7"}],["$","path",null,{"d":"M7 7h10v10"}]]}]]]}],"\nused during ABI encoding and decoding (default 16 KiB).\n",["$","code",null,{"className":"nextra-code","dir":"ltr","children":"StorageVec"}]," on the other hand allows to access each element individually."]}],"\n",["$","p",null,{"className":"x:not-first:mt-6 x:leading-7","children":["With a ",["$","code",null,{"className":"nextra-code","dir":"ltr","children":"Vec"}]," it’s possible to e.g. introduce a security issue in your contract\nwhere an attacker can fill the ",["$","code",null,{"className":"nextra-code","dir":"ltr","children":"Vec"}],", making it very costly for other users to\naccess it or write to it."]}],"\n",["$","p",null,{"className":"x:not-first:mt-6 x:leading-7","children":["You can find verbatim documentation on ",["$","code",null,{"className":"nextra-code","dir":"ltr","children":"StorageVec"}]," ",["$","$L12",null,{"href":"../datastructures/storagevec","className":"x:focus-visible:nextra-focus x:text-primary-600 x:underline x:hover:no-underline x:decoration-from-font x:[text-underline-position:from-font]","children":"here"}],".\nThe page explains when to use ",["$","code",null,{"className":"nextra-code","dir":"ltr","children":"StorageVec"}]," and when not.\nThe Rust docs can be found ",["$","a",null,{"href":"https://docs.rs/ink/5.0.0/ink/storage/struct.StorageVec.html","target":"_blank","rel":"noreferrer","className":"x:focus-visible:nextra-focus x:text-primary-600 x:underline x:hover:no-underline x:decoration-from-font x:[text-underline-position:from-font]","children":["here",[" ",["$","svg",null,{"fill":"none","stroke":"currentColor","strokeLinecap":"round","strokeLinejoin":"round","strokeWidth":1.7,"viewBox":"0 0 24 24","height":"1em","className":"x:inline x:align-baseline x:shrink-0","children":[["$","path",null,{"d":"M7 17L17 7"}],["$","path",null,{"d":"M7 7h10v10"}]]}]]]}],"."]}],"\n",["$","h3",null,{"id":"fallible-methods-for-lazy-mapping-storagevec","className":"x:tracking-tight x:text-slate-900 x:dark:text-slate-100 x:font-semibold x:target:animate-[fade-in_1.5s] x:mt-8 x:text-2xl","children":[["Fallible methods for ",["$","code",null,{"className":"nextra-code","dir":"ltr","children":"Lazy"}],", ",["$","code",null,{"className":"nextra-code","dir":"ltr","children":"Mapping"}],", ",["$","code",null,{"className":"nextra-code","dir":"ltr","children":"StorageVec"}]],["$","$L10",null,{"id":"fallible-methods-for-lazy-mapping-storagevec"}]]}],"\n",["$","p",null,{"className":"x:not-first:mt-6 x:leading-7","children":["In ",["$","a",null,{"href":"https://github.com/use-ink/ink/pull/1910","target":"_blank","rel":"noreferrer","className":"x:focus-visible:nextra-focus x:text-primary-600 x:underline x:hover:no-underline x:decoration-from-font x:[text-underline-position:from-font]","children":["#1910",[" ",["$","svg",null,{"fill":"none","stroke":"currentColor","strokeLinecap":"round","strokeLinejoin":"round","strokeWidth":1.7,"viewBox":"0 0 24 24","height":"1em","className":"x:inline x:align-baseline x:shrink-0","children":[["$","path",null,{"d":"M7 17L17 7"}],["$","path",null,{"d":"M7 7h10v10"}]]}]]]}]," we added ",["$","code",null,{"className":"nextra-code","dir":"ltr","children":"try_*"}]," methods for\nreading and writing ",["$","code",null,{"className":"nextra-code","dir":"ltr","children":"Lazy"}]," and ",["$","code",null,{"className":"nextra-code","dir":"ltr","children":"Mapping"}]," values to and from storage.\nThe try methods correspond to ",["$","code",null,{"className":"nextra-code","dir":"ltr","children":"Mapping::{insert, get, take}"}],", ",["$","code",null,{"className":"nextra-code","dir":"ltr","children":"Lazy::{set, get}"}],".\nFor ",["$","code",null,{"className":"nextra-code","dir":"ltr","children":"StorageVec::{peek, get, set, pop, push}"}]," we added ",["$","code",null,{"className":"nextra-code","dir":"ltr","children":"try_*"}]," methods in\n",["$","a",null,{"href":"https://github.com/use-ink/ink/pull/1995","target":"_blank","rel":"noreferrer","className":"x:focus-visible:nextra-focus x:text-primary-600 x:underline x:hover:no-underline x:decoration-from-font x:[text-underline-position:from-font]","children":["#1995",[" ",["$","svg",null,{"fill":"none","stroke":"currentColor","strokeLinecap":"round","strokeLinejoin":"round","strokeWidth":1.7,"viewBox":"0 0 24 24","height":"1em","className":"x:inline x:align-baseline x:shrink-0","children":[["$","path",null,{"d":"M7 17L17 7"}],["$","path",null,{"d":"M7 7h10v10"}]]}]]]}],"."]}],"\n",["$","p",null,{"className":"x:not-first:mt-6 x:leading-7","children":"Please see the individual Rust docs for these new methods:"}],"\n",["$","ul",null,{"className":"x:[:is(ol,ul)_&]:my-3 x:not-first:mt-6 x:list-disc x:ms-6","children":["\n",["$","li",null,{"className":"x:my-2","children":["$","a",null,{"href":"https://docs.rs/ink/5.0.0/ink/storage/struct.StorageVec.html","target":"_blank","rel":"noreferrer","className":"x:focus-visible:nextra-focus x:text-primary-600 x:underline x:hover:no-underline x:decoration-from-font x:[text-underline-position:from-font]","children":[["$","code",null,{"className":"nextra-code","dir":"ltr","children":"StorageVec"}],false]}]}],"\n",["$","li",null,{"className":"x:my-2","children":["$","a",null,{"href":"https://docs.rs/ink/5.0.0/ink/storage/struct.Lazy.html","target":"_blank","rel":"noreferrer","className":"x:focus-visible:nextra-focus x:text-primary-600 x:underline x:hover:no-underline x:decoration-from-font x:[text-underline-position:from-font]","children":[["$","code",null,{"className":"nextra-code","dir":"ltr","children":"Lazy"}],false]}]}],"\n",["$","li",null,{"className":"x:my-2","children":[["$","a",null,{"href":"https://docs.rs/ink/5.0.0/ink/storage/struct.Mapping.html","target":"_blank","rel":"noreferrer","className":"x:focus-visible:nextra-focus x:text-primary-600 x:underline x:hover:no-underline x:decoration-from-font x:[text-underline-position:from-font]","children":[["$","code",null,{"className":"nextra-code","dir":"ltr","children":"Mapping"}],false]}],". For ",["$","code",null,{"className":"nextra-code","dir":"ltr","children":"Mapping"}],", the encoded size of the key is also accounted for."]}],"\n"]}],"\n",["$","p",null,{"className":"x:not-first:mt-6 x:leading-7","children":["You should use the ",["$","code",null,{"className":"nextra-code","dir":"ltr","children":"try_*"}]," methods for dynamically sized values, unless you made sure\notherwise they will fit into the static buffer. The ",["$","a",null,{"href":"https://github.com/use-ink/ink/blob/master/ARCHITECTURE.md#communication-with-the-pallet","target":"_blank","rel":"noreferrer","className":"x:focus-visible:nextra-focus x:text-primary-600 x:underline x:hover:no-underline x:decoration-from-font x:[text-underline-position:from-font]","children":["static buffer in ink!",[" ",["$","svg",null,{"fill":"none","stroke":"currentColor","strokeLinecap":"round","strokeLinejoin":"round","strokeWidth":1.7,"viewBox":"0 0 24 24","height":"1em","className":"x:inline x:align-baseline x:shrink-0","children":[["$","path",null,{"d":"M7 17L17 7"}],["$","path",null,{"d":"M7 7h10v10"}]]}]]]}],"\nis 16 kB by default."]}],"\n",["$","p",null,{"className":"x:not-first:mt-6 x:leading-7","children":["We added a lint to ",["$","code",null,{"className":"nextra-code","dir":"ltr","children":"cargo-contract"}]," 4.0 that will detect\npotentially unsafe uses of methods for which there are safer alternatives:\n",["$","$L12",null,{"href":"../linter/rules/non_fallible_api","className":"x:focus-visible:nextra-focus x:text-primary-600 x:underline x:hover:no-underline x:decoration-from-font x:[text-underline-position:from-font]","children":["$","code",null,{"className":"nextra-code","dir":"ltr","children":"non_fallible_api"}]}],"."]}],"\n",["$","h3",null,{"id":"chain-extension-api-changed--support-for-multiple-chain-extensions","className":"x:tracking-tight x:text-slate-900 x:dark:text-slate-100 x:font-semibold x:target:animate-[fade-in_1.5s] x:mt-8 x:text-2xl","children":["Chain Extension API changed + Support for multiple chain extensions",["$","$L10",null,{"id":"chain-extension-api-changed--support-for-multiple-chain-extensions"}]]}],"\n",["$","p",null,{"className":"x:not-first:mt-6 x:leading-7","children":["With ",["$","a",null,{"href":"https://github.com/use-ink/ink/pull/1958","target":"_blank","rel":"noreferrer","className":"x:focus-visible:nextra-focus x:text-primary-600 x:underline x:hover:no-underline x:decoration-from-font x:[text-underline-position:from-font]","children":["#1958",[" ",["$","svg",null,{"fill":"none","stroke":"currentColor","strokeLinecap":"round","strokeLinejoin":"round","strokeWidth":1.7,"viewBox":"0 0 24 24","height":"1em","className":"x:inline x:align-baseline x:shrink-0","children":[["$","path",null,{"d":"M7 17L17 7"}],["$","path",null,{"d":"M7 7h10v10"}]]}]]]}]," we added support for interacting with\nmultiple chain extensions from ink!. This is a breaking change."]}],"\n",["$","p",null,{"className":"x:not-first:mt-6 x:leading-7","children":"You can now e.g. have a contract that utilizes a PSP22 chain extension together with one\nfor random numbers."}],"\n",["$","p",null,{"className":"x:not-first:mt-6 x:leading-7","children":"The syntax for chain extension functions changed slightly:"}],"\n",["$","div",null,{"data-pagefind-ignore":"all","className":"nextra-code x:relative x:not-first:mt-6","children":["$undefined",["$","pre",null,{"className":"x:group x:focus-visible:nextra-focus x:overflow-x-auto x:subpixel-antialiased x:text-[.9em] x:bg-white x:dark:bg-black x:py-4 x:ring-1 x:ring-inset x:ring-gray-300 x:dark:ring-neutral-700 x:contrast-more:ring-gray-900 x:contrast-more:dark:ring-gray-50 x:contrast-more:contrast-150 x:rounded-md not-prose","tabIndex":"0","children":[["$","div",null,{"className":"x:group-hover:opacity-100 x:group-focus:opacity-100 x:opacity-0 x:transition x:focus-within:opacity-100 x:flex x:gap-1 x:absolute x:right-4 x:top-2","children":[["$","$L11",null,{"children":["$","svg",null,{"viewBox":"0 0 24 24","fill":"currentColor","height":"1em","children":["$","path",null,{"d":"M4 19h6v-2H4v2zM20 5H4v2h16V5zm-3 6H4v2h13.25c1.1 0 2 .9 2 2s-.9 2-2 2H15v-2l-3 3l3 3v-2h2c2.21 0 4-1.79 4-4s-1.79-4-4-4z"}]}]}],false]}],["$","code",null,{"className":"nextra-code","dir":"ltr","children":[["$","span",null,{"children":["$","span",null,{"style":{"--shiki-light":"#B31D28","--shiki-dark":"#FDAEB7"},"children":"-#[ink(extension = 0xfecb)]"}]}],"\n",["$","span",null,{"children":["$","span",null,{"style":{"--shiki-light":"#22863A","--shiki-dark":"#85E89D"},"children":"+#[ink(function = 0xfecb)]"}]}],"\n",["$","span",null,{"children":["$","span",null,{"style":{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},"children":"fn foo() {}"}]}]]}]]}]]}],"\n",["$","p",null,{"className":"x:not-first:mt-6 x:leading-7","children":["The argument type changed from ",["$","code",null,{"className":"nextra-code","dir":"ltr","children":"u32"}]," to ",["$","code",null,{"className":"nextra-code","dir":"ltr","children":"u16"}],":"]}],"\n",["$","div",null,{"data-pagefind-ignore":"all","className":"nextra-code x:relative x:not-first:mt-6","children":["$undefined",["$","pre",null,{"className":"x:group x:focus-visible:nextra-focus x:overflow-x-auto x:subpixel-antialiased x:text-[.9em] x:bg-white x:dark:bg-black x:py-4 x:ring-1 x:ring-inset x:ring-gray-300 x:dark:ring-neutral-700 x:contrast-more:ring-gray-900 x:contrast-more:dark:ring-gray-50 x:contrast-more:contrast-150 x:rounded-md not-prose","tabIndex":"0","children":[["$","div",null,{"className":"x:group-hover:opacity-100 x:group-focus:opacity-100 x:opacity-0 x:transition x:focus-within:opacity-100 x:flex x:gap-1 x:absolute x:right-4 x:top-2","children":[["$","$L11",null,{"children":["$","svg",null,{"viewBox":"0 0 24 24","fill":"currentColor","height":"1em","children":["$","path",null,{"d":"M4 19h6v-2H4v2zM20 5H4v2h16V5zm-3 6H4v2h13.25c1.1 0 2 .9 2 2s-.9 2-2 2H15v-2l-3 3l3 3v-2h2c2.21 0 4-1.79 4-4s-1.79-4-4-4z"}]}]}],false]}],["$","code",null,{"className":"nextra-code","dir":"ltr","children":[["$","span",null,{"children":["$","span",null,{"style":{"--shiki-light":"#B31D28","--shiki-dark":"#FDAEB7"},"children":"-/// `#[ink(extension = N: u32)]`"}]}],"\n",["$","span",null,{"children":["$","span",null,{"style":{"--shiki-light":"#B31D28","--shiki-dark":"#FDAEB7"},"children":"-Extension,"}]}],"\n",["$","span",null,{"children":["$","span",null,{"style":{"--shiki-light":"#22863A","--shiki-dark":"#85E89D"},"children":"+/// `#[ink(function = N: u16)]`"}]}],"\n",["$","span",null,{"children":["$","span",null,{"style":{"--shiki-light":"#22863A","--shiki-dark":"#85E89D"},"children":"+Function,"}]}]]}]]}]]}],"\n",["$","p",null,{"className":"x:not-first:mt-6 x:leading-7","children":["The top level macro ",["$","code",null,{"className":"nextra-code","dir":"ltr","children":"#[ink::chain_extension]"}]," now ",["$","em",null,{"children":"requires"}]," an ",["$","code",null,{"className":"nextra-code","dir":"ltr","children":"(extension = N: u16)"}]," argument to support multiple chain extensions.\nIf you are using only one extension, the ID can be any ",["$","code",null,{"className":"nextra-code","dir":"ltr","children":"u16"}]," number,\notherwise please consult the ",["$","$L12",null,{"href":"../macros-attributes/chain-extension","className":"x:focus-visible:nextra-focus x:text-primary-600 x:underline x:hover:no-underline x:decoration-from-font x:[text-underline-position:from-font]","children":[["$","code",null,{"className":"nextra-code","dir":"ltr","children":"#[ink::chain_extension]"}]," macro documentation"]}]]}],"\n",["$","div",null,{"data-pagefind-ignore":"all","className":"nextra-code x:relative x:not-first:mt-6","children":["$undefined",["$","pre",null,{"className":"x:group x:focus-visible:nextra-focus x:overflow-x-auto x:subpixel-antialiased x:text-[.9em] x:bg-white x:dark:bg-black x:py-4 x:ring-1 x:ring-inset x:ring-gray-300 x:dark:ring-neutral-700 x:contrast-more:ring-gray-900 x:contrast-more:dark:ring-gray-50 x:contrast-more:contrast-150 x:rounded-md not-prose","tabIndex":"0","children":[["$","div",null,{"className":"x:group-hover:opacity-100 x:group-focus:opacity-100 x:opacity-0 x:transition x:focus-within:opacity-100 x:flex x:gap-1 x:absolute x:right-4 x:top-2","children":[["$","$L11",null,{"children":["$","svg",null,{"viewBox":"0 0 24 24","fill":"currentColor","height":"1em","children":["$","path",null,{"d":"M4 19h6v-2H4v2zM20 5H4v2h16V5zm-3 6H4v2h13.25c1.1 0 2 .9 2 2s-.9 2-2 2H15v-2l-3 3l3 3v-2h2c2.21 0 4-1.79 4-4s-1.79-4-4-4z"}]}]}],false]}],["$","code",null,{"className":"nextra-code","dir":"ltr","children":[["$","span",null,{"children":["$","span",null,{"style":{"--shiki-light":"#B31D28","--shiki-dark":"#FDAEB7"},"children":"-#[ink::chain_extension]"}]}],"\n",["$","span",null,{"children":["$","span",null,{"style":{"--shiki-light":"#22863A","--shiki-dark":"#85E89D"},"children":"+#[ink::chain_extension(extension = 1)]"}]}]]}]]}]]}],"\n",["$","p",null,{"className":"x:not-first:mt-6 x:leading-7","children":[":::note\nIf the chain extension was not used in a tuple in the runtime configuration,\n",["$","code",null,{"className":"nextra-code","dir":"ltr","children":"extension = N: u16"}]," can take any ",["$","code",null,{"className":"nextra-code","dir":"ltr","children":"u16"}]," number.\n:::"]}],"\n",["$","p",null,{"className":"x:not-first:mt-6 x:leading-7","children":["A migration in most cases should just be to rename ",["$","code",null,{"className":"nextra-code","dir":"ltr","children":"#[ink(extension = …)]"}]," to\n",["$","code",null,{"className":"nextra-code","dir":"ltr","children":"#[ink(function = …)]"}],", and specifying ",["$","code",null,{"className":"nextra-code","dir":"ltr","children":"extension"}]," argument in top level macro."]}],"\n",["$","p",null,{"className":"x:not-first:mt-6 x:leading-7","children":["We added an example contract that illustrates the usage of multiple chain extensions\nin one contract:\n",["$","a",null,{"href":"https://github.com/use-ink/ink-examples/tree/main/combined-extension","target":"_blank","rel":"noreferrer","className":"x:focus-visible:nextra-focus x:text-primary-600 x:underline x:hover:no-underline x:decoration-from-font x:[text-underline-position:from-font]","children":[["$","code",null,{"className":"nextra-code","dir":"ltr","children":"combined-extension"}],false]}],"."]}],"\n",["$","h3",null,{"id":"call-and-instantiate-v2","className":"x:tracking-tight x:text-slate-900 x:dark:text-slate-100 x:font-semibold x:target:animate-[fade-in_1.5s] x:mt-8 x:text-2xl","children":[[["$","code",null,{"className":"nextra-code","dir":"ltr","children":"call"}]," and ",["$","code",null,{"className":"nextra-code","dir":"ltr","children":"instantiate"}]," v2"],["$","$L10",null,{"id":"call-and-instantiate-v2"}]]}],"\n",["$","p",null,{"className":"x:not-first:mt-6 x:leading-7","children":["The functions to instantiate and call other contracts got an upgrade in the\n",["$","code",null,{"className":"nextra-code","dir":"ltr","children":"polkadot-v1.8.0"}]," release (in the ",["$","a",null,{"href":"https://github.com/paritytech/polkadot-sdk/commit/d250a6e4270a77f28e2737a4faa3fb78c8ea7a85","target":"_blank","rel":"noreferrer","className":"x:focus-visible:nextra-focus x:text-primary-600 x:underline x:hover:no-underline x:decoration-from-font x:[text-underline-position:from-font]","children":[["$","code",null,{"className":"nextra-code","dir":"ltr","children":"d250a6"}],false]}]," commit),\nThe new v2 of them allows passing both ",["$","code",null,{"className":"nextra-code","dir":"ltr","children":"Weight"}]," parts (",["$","code",null,{"className":"nextra-code","dir":"ltr","children":"ref_time_limit"}]," and ",["$","code",null,{"className":"nextra-code","dir":"ltr","children":"proof_size_limit"}],"),\nas well as the ",["$","code",null,{"className":"nextra-code","dir":"ltr","children":"storage_deposit_limit"}],"."]}],"\n",["$","p",null,{"className":"x:not-first:mt-6 x:leading-7","children":["The previous v1 ",["$","code",null,{"className":"nextra-code","dir":"ltr","children":"call"}]," and ",["$","code",null,{"className":"nextra-code","dir":"ltr","children":"instantiate"}]," functions only provided a single ",["$","code",null,{"className":"nextra-code","dir":"ltr","children":"gas_limit"}]," parameter,\nwhich was used as the value for ",["$","code",null,{"className":"nextra-code","dir":"ltr","children":"ref_time_limit"}],".\nYou can still use these ",["$","code",null,{"className":"nextra-code","dir":"ltr","children":"v1"}]," versions.\nFor ",["$","code",null,{"className":"nextra-code","dir":"ltr","children":"call"}]," on a call builder obtained through\n",["$","a",null,{"href":"https://docs.rs/ink_env/5.0.0/ink_env/call/fn.build_call.html","target":"_blank","rel":"noreferrer","className":"x:focus-visible:nextra-focus x:text-primary-600 x:underline x:hover:no-underline x:decoration-from-font x:[text-underline-position:from-font]","children":[["$","code",null,{"className":"nextra-code","dir":"ltr","children":"build_call"}],false]}],":"]}],"\n",["$","div",null,{"data-pagefind-ignore":"all","className":"nextra-code x:relative x:not-first:mt-6","children":["$undefined",["$","pre",null,{"className":"x:group x:focus-visible:nextra-focus x:overflow-x-auto x:subpixel-antialiased x:text-[.9em] x:bg-white x:dark:bg-black x:py-4 x:ring-1 x:ring-inset x:ring-gray-300 x:dark:ring-neutral-700 x:contrast-more:ring-gray-900 x:contrast-more:dark:ring-gray-50 x:contrast-more:contrast-150 x:rounded-md not-prose","tabIndex":"0","children":[["$","div",null,{"className":"x:group-hover:opacity-100 x:group-focus:opacity-100 x:opacity-0 x:transition x:focus-within:opacity-100 x:flex x:gap-1 x:absolute x:right-4 x:top-2","children":[["$","$L11",null,{"children":["$","svg",null,{"viewBox":"0 0 24 24","fill":"currentColor","height":"1em","children":["$","path",null,{"d":"M4 19h6v-2H4v2zM20 5H4v2h16V5zm-3 6H4v2h13.25c1.1 0 2 .9 2 2s-.9 2-2 2H15v-2l-3 3l3 3v-2h2c2.21 0 4-1.79 4-4s-1.79-4-4-4z"}]}]}],false]}],["$","code",null,{"className":"nextra-code","dir":"ltr","children":[["$","span",null,{"children":["$","span",null,{"children":"call_builder"}]}],"\n",["$","span",null,{"children":["$","span",null,{"children":"  .call_v1()"}]}],"\n",["$","span",null,{"children":["$","span",null,{"children":"  .gas_limit(ref_time_limit)"}]}],"\n",["$","span",null,{"children":["$","span",null,{"children":"  .invoke();"}]}]]}]]}]]}],"\n",["$","p",null,{"className":"x:not-first:mt-6 x:leading-7","children":["For ",["$","code",null,{"className":"nextra-code","dir":"ltr","children":"instantiate"}]," on ",["$","a",null,{"href":"https://docs.rs/ink_env/5.0.0/ink_env/call/fn.build_create.html","target":"_blank","rel":"noreferrer","className":"x:focus-visible:nextra-focus x:text-primary-600 x:underline x:hover:no-underline x:decoration-from-font x:[text-underline-position:from-font]","children":[["$","code",null,{"className":"nextra-code","dir":"ltr","children":"build_create"}],false]}],":"]}],"\n",["$","p",null,{"className":"x:not-first:mt-6 x:leading-7","children":["The new ",["$","code",null,{"className":"nextra-code","dir":"ltr","children":"v2"}]," parameters can be set like so:"]}],"\n",["$","div",null,{"data-pagefind-ignore":"all","className":"nextra-code x:relative x:not-first:mt-6","children":["$undefined",["$","pre",null,{"className":"x:group x:focus-visible:nextra-focus x:overflow-x-auto x:subpixel-antialiased x:text-[.9em] x:bg-white x:dark:bg-black x:py-4 x:ring-1 x:ring-inset x:ring-gray-300 x:dark:ring-neutral-700 x:contrast-more:ring-gray-900 x:contrast-more:dark:ring-gray-50 x:contrast-more:contrast-150 x:rounded-md not-prose","tabIndex":"0","children":[["$","div",null,{"className":"x:group-hover:opacity-100 x:group-focus:opacity-100 x:opacity-0 x:transition x:focus-within:opacity-100 x:flex x:gap-1 x:absolute x:right-4 x:top-2","children":[["$","$L11",null,{"children":["$","svg",null,{"viewBox":"0 0 24 24","fill":"currentColor","height":"1em","children":["$","path",null,{"d":"M4 19h6v-2H4v2zM20 5H4v2h16V5zm-3 6H4v2h13.25c1.1 0 2 .9 2 2s-.9 2-2 2H15v-2l-3 3l3 3v-2h2c2.21 0 4-1.79 4-4s-1.79-4-4-4z"}]}]}],false]}],["$","code",null,{"className":"nextra-code","dir":"ltr","children":[["$","span",null,{"children":[["$","span",null,{"style":{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},"children":"call_builder "}],["$","span",null,{"style":{"--shiki-light":"#6A737D","--shiki-dark":"#6A737D"},"children":"// or `create_builder`"}]]}],"\n",["$","span",null,{"children":[["$","span",null,{"style":{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"},"children":"  ."}],["$","span",null,{"style":{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"},"children":"ref_time_limit"}],["$","span",null,{"style":{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},"children":"(ref_time_limit)"}]]}],"\n",["$","span",null,{"children":[["$","span",null,{"style":{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"},"children":"  ."}],["$","span",null,{"style":{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"},"children":"proof_size_limit"}],["$","span",null,{"style":{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},"children":"(proof_size_limit)"}]]}],"\n",["$","span",null,{"children":[["$","span",null,{"style":{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"},"children":"  ."}],["$","span",null,{"style":{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"},"children":"storage_deposit_limit"}],["$","span",null,{"style":{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},"children":"(storage_deposit_limit)"}]]}],"\n",["$","span",null,{"children":[["$","span",null,{"style":{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"},"children":"  ."}],["$","span",null,{"style":{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"},"children":"invoke"}],["$","span",null,{"style":{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},"children":"();"}]]}]]}]]}]]}],"\n",["$","p",null,{"className":"x:not-first:mt-6 x:leading-7","children":["You can find out if a chain supports the new ",["$","code",null,{"className":"nextra-code","dir":"ltr","children":"v2"}]," functions for call/instantiate by\nquerying the ",["$","code",null,{"className":"nextra-code","dir":"ltr","children":"contracts::apiVersion"}]," constant. It has to be ",["$","code",null,{"className":"nextra-code","dir":"ltr","children":"1"}],".\nYou can use the ",["$","a",null,{"href":"https://polkadot.js.org/apps/","target":"_blank","rel":"noreferrer","className":"x:focus-visible:nextra-focus x:text-primary-600 x:underline x:hover:no-underline x:decoration-from-font x:[text-underline-position:from-font]","children":["polakdot.js app",[" ",["$","svg",null,{"fill":"none","stroke":"currentColor","strokeLinecap":"round","strokeLinejoin":"round","strokeWidth":1.7,"viewBox":"0 0 24 24","height":"1em","className":"x:inline x:align-baseline x:shrink-0","children":[["$","path",null,{"d":"M7 17L17 7"}],["$","path",null,{"d":"M7 7h10v10"}]]}]]]}]," to do this:\nDeveloper » Chain State » Constants » ",["$","code",null,{"className":"nextra-code","dir":"ltr","children":"contracts"}]," » ",["$","code",null,{"className":"nextra-code","dir":"ltr","children":"apiVersion"}]," » Click on the ",["$","code",null,{"className":"nextra-code","dir":"ltr","children":"+"}]," on the right."]}],"\n",["$","$Lf",null,{"src":"/img/api-version-1.png"}],"\n",["$","p",null,{"className":"x:not-first:mt-6 x:leading-7","children":["At the time of the ink! v5 release (March 2024) no parachain with ink! support\nhad upgraded to ",["$","code",null,{"className":"nextra-code","dir":"ltr","children":"polkadot-v1.8.0"}]," yet."]}],"\n",["$","p",null,{"className":"x:not-first:mt-6 x:leading-7","children":["Please note that if you are using trait definitions for cross-contract calls,\ndirect calls from the ",["$","code",null,{"className":"nextra-code","dir":"ltr","children":"contract_ref!"}]," macro are only supported with the ",["$","code",null,{"className":"nextra-code","dir":"ltr","children":"call_v2"}],".\nOtherwise, you need to get the ",["$","code",null,{"className":"nextra-code","dir":"ltr","children":"CallBuilder"}]," from the structure\nand build the call manually."]}],"\n",["$","div",null,{"data-pagefind-ignore":"all","className":"nextra-code x:relative x:not-first:mt-6","children":["$undefined",["$","pre",null,{"className":"x:group x:focus-visible:nextra-focus x:overflow-x-auto x:subpixel-antialiased x:text-[.9em] x:bg-white x:dark:bg-black x:py-4 x:ring-1 x:ring-inset x:ring-gray-300 x:dark:ring-neutral-700 x:contrast-more:ring-gray-900 x:contrast-more:dark:ring-gray-50 x:contrast-more:contrast-150 x:rounded-md not-prose","tabIndex":"0","children":[["$","div",null,{"className":"x:group-hover:opacity-100 x:group-focus:opacity-100 x:opacity-0 x:transition x:focus-within:opacity-100 x:flex x:gap-1 x:absolute x:right-4 x:top-2","children":[["$","$L11",null,{"children":["$","svg",null,{"viewBox":"0 0 24 24","fill":"currentColor","height":"1em","children":["$","path",null,{"d":"M4 19h6v-2H4v2zM20 5H4v2h16V5zm-3 6H4v2h13.25c1.1 0 2 .9 2 2s-.9 2-2 2H15v-2l-3 3l3 3v-2h2c2.21 0 4-1.79 4-4s-1.79-4-4-4z"}]}]}],false]}],["$","code",null,{"className":"nextra-code","dir":"ltr","children":[["$","span",null,{"children":[["$","span",null,{"style":{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"},"children":"type"}],["$","span",null,{"style":{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"},"children":" Erc20Wrapper"}],["$","span",null,{"style":{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"},"children":" ="}],["$","span",null,{"style":{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"},"children":" contract_ref!"}],["$","span",null,{"style":{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},"children":"("}],["$","span",null,{"style":{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"},"children":"Erc20"}],["$","span",null,{"style":{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},"children":");"}]]}],"\n",["$","span",null,{"children":[["$","span",null,{"style":{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"},"children":"let"}],["$","span",null,{"style":{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},"children":" erc20"}],["$","span",null,{"style":{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"},"children":":"}],["$","span",null,{"style":{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"},"children":" Erc20Wrapper"}],["$","span",null,{"style":{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"},"children":" ="}],["$","span",null,{"style":{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},"children":" new_erc20"}],["$","span",null,{"style":{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"},"children":"."}],["$","span",null,{"style":{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"},"children":"into"}],["$","span",null,{"style":{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},"children":"();"}]]}],"\n",["$","span",null,{"children":[["$","span",null,{"style":{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"},"children":"let"}],["$","span",null,{"style":{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},"children":" erc20_builder "}],["$","span",null,{"style":{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"},"children":"="}],["$","span",null,{"style":{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},"children":" erc20"}],["$","span",null,{"style":{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"},"children":"."}],["$","span",null,{"style":{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"},"children":"call"}],["$","span",null,{"style":{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},"children":"();"}]]}],"\n",["$","span",null,{"children":[["$","span",null,{"style":{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},"children":"erc20_builder"}],["$","span",null,{"style":{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"},"children":"."}],["$","span",null,{"style":{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"},"children":"total_supply"}],["$","span",null,{"style":{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},"children":"()"}],["$","span",null,{"style":{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"},"children":"."}],["$","span",null,{"style":{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"},"children":"call_v1"}],["$","span",null,{"style":{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},"children":"()"}],["$","span",null,{"style":{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"},"children":"."}],["$","span",null,{"style":{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"},"children":"invoke"}],["$","span",null,{"style":{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},"children":"()"}]]}]]}]]}]]}],"\n",["$","h3",null,{"id":"metadata-changes","className":"x:tracking-tight x:text-slate-900 x:dark:text-slate-100 x:font-semibold x:target:animate-[fade-in_1.5s] x:mt-8 x:text-2xl","children":["Metadata Changes",["$","$L10",null,{"id":"metadata-changes"}]]}],"\n",["$","h4",null,{"id":"events-20-1","className":"x:tracking-tight x:text-slate-900 x:dark:text-slate-100 x:font-semibold x:target:animate-[fade-in_1.5s] x:mt-8 x:text-xl","children":["Events 2.0",["$","$L10",null,{"id":"events-20-1"}]]}],"\n",["$","p",null,{"className":"x:not-first:mt-6 x:leading-7","children":["See ",["$","a",null,{"href":"https://github.com/use-ink/ink/pull/1827","target":"_blank","rel":"noreferrer","className":"x:focus-visible:nextra-focus x:text-primary-600 x:underline x:hover:no-underline x:decoration-from-font x:[text-underline-position:from-font]","children":["#1827",[" ",["$","svg",null,{"fill":"none","stroke":"currentColor","strokeLinecap":"round","strokeLinejoin":"round","strokeWidth":1.7,"viewBox":"0 0 24 24","height":"1em","className":"x:inline x:align-baseline x:shrink-0","children":[["$","path",null,{"d":"M7 17L17 7"}],["$","path",null,{"d":"M7 7h10v10"}]]}]]]}]," for the full details.\nTwo fields werere added to the objects in the ",["$","code",null,{"className":"nextra-code","dir":"ltr","children":"events"}]," array:\n",["$","code",null,{"className":"nextra-code","dir":"ltr","children":"module_path"}]," and ",["$","code",null,{"className":"nextra-code","dir":"ltr","children":"signature_topic"}],"."]}],"\n",["$","p",null,{"className":"x:not-first:mt-6 x:leading-7","children":["Previously the order of the events in the ",["$","code",null,{"className":"nextra-code","dir":"ltr","children":"events"}]," array was significant (i.e. the first\none had an implied index of ",["$","code",null,{"className":"nextra-code","dir":"ltr","children":"0"}],"), and this index could be used to determine which event\nto decode.\nNow that is replaced by the ",["$","code",null,{"className":"nextra-code","dir":"ltr","children":"signature_topic"}],", and the order of the events in the metadata\nno longer has any significance."]}],"\n",["$","p",null,{"className":"x:not-first:mt-6 x:leading-7","children":["See the section “",["$","a",null,{"href":"#events-20","className":"x:focus-visible:nextra-focus x:text-primary-600 x:underline x:hover:no-underline x:decoration-from-font x:[text-underline-position:from-font]","children":"Events 2.0"}],"” on this page for more info."]}],"\n",["$","p",null,{"className":"x:not-first:mt-6 x:leading-7","children":"ink! 4.0:"}],"\n",["$","div",null,{"data-pagefind-ignore":"all","className":"nextra-code x:relative x:not-first:mt-6","children":["$undefined",["$","pre",null,{"className":"x:group x:focus-visible:nextra-focus x:overflow-x-auto x:subpixel-antialiased x:text-[.9em] x:bg-white x:dark:bg-black x:py-4 x:ring-1 x:ring-inset x:ring-gray-300 x:dark:ring-neutral-700 x:contrast-more:ring-gray-900 x:contrast-more:dark:ring-gray-50 x:contrast-more:contrast-150 x:rounded-md not-prose","tabIndex":"0","children":[["$","div",null,{"className":"x:group-hover:opacity-100 x:group-focus:opacity-100 x:opacity-0 x:transition x:focus-within:opacity-100 x:flex x:gap-1 x:absolute x:right-4 x:top-2","children":[["$","$L11",null,{"children":["$","svg",null,{"viewBox":"0 0 24 24","fill":"currentColor","height":"1em","children":["$","path",null,{"d":"M4 19h6v-2H4v2zM20 5H4v2h16V5zm-3 6H4v2h13.25c1.1 0 2 .9 2 2s-.9 2-2 2H15v-2l-3 3l3 3v-2h2c2.21 0 4-1.79 4-4s-1.79-4-4-4z"}]}]}],false]}],["$","code",null,{"className":"nextra-code","dir":"ltr","children":[["$","span",null,{"children":[["$","span",null,{"style":{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"},"children":"   \"events\""}],["$","span",null,{"style":{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},"children":": ["}]]}],"\n",["$","span",null,{"children":["$","span",null,{"style":{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},"children":"      {"}]}],"\n",["$","span",null,{"children":[["$","span",null,{"style":{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"},"children":"        \"args\""}],["$","span",null,{"style":{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},"children":": [ "}],["$","span",null,{"style":{"--shiki-light":"#B31D28","--shiki-light-font-style":"italic","--shiki-dark":"#FDAEB7","--shiki-dark-font-style":"italic"},"children":"..."}],["$","span",null,{"style":{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},"children":" ],"}]]}],"\n",["$","span",null,{"children":[["$","span",null,{"style":{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"},"children":"        \"docs\""}],["$","span",null,{"style":{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},"children":": [ "}],["$","span",null,{"style":{"--shiki-light":"#B31D28","--shiki-light-font-style":"italic","--shiki-dark":"#FDAEB7","--shiki-dark-font-style":"italic"},"children":"..."}],["$","span",null,{"style":{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},"children":" ],"}]]}],"\n",["$","span",null,{"children":[["$","span",null,{"style":{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"},"children":"        \"label\""}],["$","span",null,{"style":{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},"children":": "}],["$","span",null,{"style":{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"},"children":"\"Transfer\""}]]}],"\n",["$","span",null,{"children":["$","span",null,{"style":{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},"children":"      },"}]}],"\n",["$","span",null,{"children":["$","span",null,{"style":{"--shiki-light":"#B31D28","--shiki-light-font-style":"italic","--shiki-dark":"#FDAEB7","--shiki-dark-font-style":"italic"},"children":"      ..."}]}],"\n",["$","span",null,{"children":["$","span",null,{"style":{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},"children":"  ]"}]}]]}]]}]]}],"\n",["$","p",null,{"className":"x:not-first:mt-6 x:leading-7","children":"ink! 5.0:"}],"\n",["$","div",null,{"data-pagefind-ignore":"all","className":"nextra-code x:relative x:not-first:mt-6","children":["$undefined",["$","pre",null,{"className":"x:group x:focus-visible:nextra-focus x:overflow-x-auto x:subpixel-antialiased x:text-[.9em] x:bg-white x:dark:bg-black x:py-4 x:ring-1 x:ring-inset x:ring-gray-300 x:dark:ring-neutral-700 x:contrast-more:ring-gray-900 x:contrast-more:dark:ring-gray-50 x:contrast-more:contrast-150 x:rounded-md not-prose","tabIndex":"0","children":[["$","div",null,{"className":"x:group-hover:opacity-100 x:group-focus:opacity-100 x:opacity-0 x:transition x:focus-within:opacity-100 x:flex x:gap-1 x:absolute x:right-4 x:top-2","children":[["$","$L11",null,{"children":["$","svg",null,{"viewBox":"0 0 24 24","fill":"currentColor","height":"1em","children":["$","path",null,{"d":"M4 19h6v-2H4v2zM20 5H4v2h16V5zm-3 6H4v2h13.25c1.1 0 2 .9 2 2s-.9 2-2 2H15v-2l-3 3l3 3v-2h2c2.21 0 4-1.79 4-4s-1.79-4-4-4z"}]}]}],false]}],["$","code",null,{"className":"nextra-code","dir":"ltr","children":[["$","span",null,{"children":["$","span",null,{"style":{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},"children":"    \"events\": ["}]}],"\n",["$","span",null,{"children":["$","span",null,{"style":{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},"children":"      {"}]}],"\n",["$","span",null,{"children":["$","span",null,{"style":{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},"children":"        \"args\": [ ... ],"}]}],"\n",["$","span",null,{"children":["$","span",null,{"style":{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},"children":"        \"docs\": [ ... ],"}]}],"\n",["$","span",null,{"children":["$","span",null,{"style":{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},"children":"        \"label\": \"...\","}]}],"\n",["$","span",null,{"children":["$","span",null,{"style":{"--shiki-light":"#22863A","--shiki-dark":"#85E89D"},"children":"+       \"module_path\": \"erc20::erc20\","}]}],"\n",["$","span",null,{"children":["$","span",null,{"style":{"--shiki-light":"#22863A","--shiki-dark":"#85E89D"},"children":"+       \"signature_topic\": \"0xb5b61a3e6a21a16be4f044b517c28ac692492f73c5bfd3f60178ad98c767f4cb\""}]}],"\n",["$","span",null,{"children":["$","span",null,{"style":{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},"children":"      },"}]}],"\n",["$","span",null,{"children":["$","span",null,{"style":{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},"children":"      ..."}]}],"\n",["$","span",null,{"children":["$","span",null,{"style":{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},"children":"  ]"}]}]]}]]}]]}],"\n",["$","h4",null,{"id":"new-field-staticbuffersize","className":"x:tracking-tight x:text-slate-900 x:dark:text-slate-100 x:font-semibold x:target:animate-[fade-in_1.5s] x:mt-8 x:text-xl","children":[["New field: ",["$","code",null,{"className":"nextra-code","dir":"ltr","children":"staticBufferSize"}]],["$","$L10",null,{"id":"new-field-staticbuffersize"}]]}],"\n",["$","p",null,{"className":"x:not-first:mt-6 x:leading-7","children":["With ",["$","a",null,{"href":"https://github.com/use-ink/ink/pull/1880","target":"_blank","rel":"noreferrer","className":"x:focus-visible:nextra-focus x:text-primary-600 x:underline x:hover:no-underline x:decoration-from-font x:[text-underline-position:from-font]","children":["#1880",[" ",["$","svg",null,{"fill":"none","stroke":"currentColor","strokeLinecap":"round","strokeLinejoin":"round","strokeWidth":1.7,"viewBox":"0 0 24 24","height":"1em","className":"x:inline x:align-baseline x:shrink-0","children":[["$","path",null,{"d":"M7 17L17 7"}],["$","path",null,{"d":"M7 7h10v10"}]]}]]]}]," we added a ",["$","code",null,{"className":"nextra-code","dir":"ltr","children":"\"staticBufferSize\""}]," field to\nthe metadata file. The unit is bytes."]}],"\n",["$","p",null,{"className":"x:not-first:mt-6 x:leading-7","children":["See the section “",["$","a",null,{"href":"#buffer-size-can-be-customized","className":"x:focus-visible:nextra-focus x:text-primary-600 x:underline x:hover:no-underline x:decoration-from-font x:[text-underline-position:from-font]","children":"Buffer size can be customized"}],"” on this page for\nmore info."]}],"\n",["$","p",null,{"className":"x:not-first:mt-6 x:leading-7","children":"Example:"}],"\n",["$","div",null,{"data-pagefind-ignore":"all","className":"nextra-code x:relative x:not-first:mt-6","children":["$undefined",["$","pre",null,{"className":"x:group x:focus-visible:nextra-focus x:overflow-x-auto x:subpixel-antialiased x:text-[.9em] x:bg-white x:dark:bg-black x:py-4 x:ring-1 x:ring-inset x:ring-gray-300 x:dark:ring-neutral-700 x:contrast-more:ring-gray-900 x:contrast-more:dark:ring-gray-50 x:contrast-more:contrast-150 x:rounded-md not-prose","tabIndex":"0","children":[["$","div",null,{"className":"x:group-hover:opacity-100 x:group-focus:opacity-100 x:opacity-0 x:transition x:focus-within:opacity-100 x:flex x:gap-1 x:absolute x:right-4 x:top-2","children":[["$","$L11",null,{"children":["$","svg",null,{"viewBox":"0 0 24 24","fill":"currentColor","height":"1em","children":["$","path",null,{"d":"M4 19h6v-2H4v2zM20 5H4v2h16V5zm-3 6H4v2h13.25c1.1 0 2 .9 2 2s-.9 2-2 2H15v-2l-3 3l3 3v-2h2c2.21 0 4-1.79 4-4s-1.79-4-4-4z"}]}]}],false]}],["$","code",null,{"className":"nextra-code","dir":"ltr","children":[["$","span",null,{"children":["$","span",null,{"style":{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},"children":"      \"maxEventTopics\": 4,"}]}],"\n",["$","span",null,{"children":["$","span",null,{"style":{"--shiki-light":"#22863A","--shiki-dark":"#85E89D"},"children":"+     \"staticBufferSize\": 16384,"}]}],"\n",["$","span",null,{"children":["$","span",null,{"style":{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},"children":"      \"timestamp\": { ... }"}]}]]}]]}]]}],"\n",["$","h4",null,{"id":"metadata-storage-keys-encoding-change","className":"x:tracking-tight x:text-slate-900 x:dark:text-slate-100 x:font-semibold x:target:animate-[fade-in_1.5s] x:mt-8 x:text-xl","children":["Metadata storage keys encoding change",["$","$L10",null,{"id":"metadata-storage-keys-encoding-change"}]]}],"\n",["$","p",null,{"className":"x:not-first:mt-6 x:leading-7","children":"Storage keys used to access storage data are SCALE encoded. Previously,\nthe contract metadata used big endian encoding to represent storage keys.\nWith the ink! 5.0 release, these encoding formats have been aligned,\nand SCALE encoding (little endian) is now used for the metadata storage keys.\nThis is a breaking change, and client tools that use the storage keys from contract\nmetadata will need to adapt accordingly."}],"\n",["$","p",null,{"className":"x:not-first:mt-6 x:leading-7","children":["Please see: ",["$","a",null,{"href":"https://github.com/use-ink/ink/pull/2048","target":"_blank","rel":"noreferrer","className":"x:focus-visible:nextra-focus x:text-primary-600 x:underline x:hover:no-underline x:decoration-from-font x:[text-underline-position:from-font]","children":["#2048",[" ",["$","svg",null,{"fill":"none","stroke":"currentColor","strokeLinecap":"round","strokeLinejoin":"round","strokeWidth":1.7,"viewBox":"0 0 24 24","height":"1em","className":"x:inline x:align-baseline x:shrink-0","children":[["$","path",null,{"d":"M7 17L17 7"}],["$","path",null,{"d":"M7 7h10v10"}]]}]]]}]," for details."]}],"\n",["$","p",null,{"className":"x:not-first:mt-6 x:leading-7","children":"Example:"}],"\n",["$","div",null,{"data-pagefind-ignore":"all","className":"nextra-code x:relative x:not-first:mt-6","children":["$undefined",["$","pre",null,{"className":"x:group x:focus-visible:nextra-focus x:overflow-x-auto x:subpixel-antialiased x:text-[.9em] x:bg-white x:dark:bg-black x:py-4 x:ring-1 x:ring-inset x:ring-gray-300 x:dark:ring-neutral-700 x:contrast-more:ring-gray-900 x:contrast-more:dark:ring-gray-50 x:contrast-more:contrast-150 x:rounded-md not-prose","tabIndex":"0","children":[["$","div",null,{"className":"x:group-hover:opacity-100 x:group-focus:opacity-100 x:opacity-0 x:transition x:focus-within:opacity-100 x:flex x:gap-1 x:absolute x:right-4 x:top-2","children":[["$","$L11",null,{"children":["$","svg",null,{"viewBox":"0 0 24 24","fill":"currentColor","height":"1em","children":["$","path",null,{"d":"M4 19h6v-2H4v2zM20 5H4v2h16V5zm-3 6H4v2h13.25c1.1 0 2 .9 2 2s-.9 2-2 2H15v-2l-3 3l3 3v-2h2c2.21 0 4-1.79 4-4s-1.79-4-4-4z"}]}]}],false]}],["$","code",null,{"className":"nextra-code","dir":"ltr","children":[["$","span",null,{"children":["$","span",null,{"style":{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},"children":"    \"storage\": {"}]}],"\n",["$","span",null,{"children":["$","span",null,{"style":{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},"children":"        \"root\": {"}]}],"\n",["$","span",null,{"children":["$","span",null,{"style":{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},"children":"        \"layout\": {"}]}],"\n",["$","span",null,{"children":["$","span",null,{"style":{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},"children":"            \"struct\": {"}]}],"\n",["$","span",null,{"children":["$","span",null,{"style":{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},"children":"            \"fields\": ["}]}],"\n",["$","span",null,{"children":["$","span",null,{"style":{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},"children":"                {"}]}],"\n",["$","span",null,{"children":["$","span",null,{"style":{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},"children":"                \"layout\": {"}]}],"\n",["$","span",null,{"children":["$","span",null,{"style":{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},"children":"                    \"leaf\": {"}]}],"\n",["$","span",null,{"children":["$","span",null,{"style":{"--shiki-light":"#B31D28","--shiki-dark":"#FDAEB7"},"children":"-                   \"key\": \"0x00000159\","}]}],"\n",["$","span",null,{"children":["$","span",null,{"style":{"--shiki-light":"#22863A","--shiki-dark":"#85E89D"},"children":"+                   \"key\": \"0x59010000\","}]}],"\n",["$","span",null,{"children":["$","span",null,{"style":{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},"children":"                    \"ty\": 0"}]}],"\n",["$","span",null,{"children":["$","span",null,{"style":{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},"children":"                    }"}]}],"\n",["$","span",null,{"children":["$","span",null,{"style":{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},"children":"                },"}]}],"\n",["$","span",null,{"children":["$","span",null,{"style":{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},"children":"                \"name\": \"value\""}]}],"\n",["$","span",null,{"children":["$","span",null,{"style":{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},"children":"                }"}]}],"\n",["$","span",null,{"children":["$","span",null,{"style":{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},"children":"            ],"}]}],"\n",["$","span",null,{"children":["$","span",null,{"style":{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},"children":"            \"name\": \"Flipper\""}]}],"\n",["$","span",null,{"children":["$","span",null,{"style":{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},"children":"            }"}]}],"\n",["$","span",null,{"children":["$","span",null,{"style":{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},"children":"        },"}]}],"\n",["$","span",null,{"children":["$","span",null,{"style":{"--shiki-light":"#B31D28","--shiki-dark":"#FDAEB7"},"children":"-       \"root_key\": \"0x00000159\","}]}],"\n",["$","span",null,{"children":["$","span",null,{"style":{"--shiki-light":"#22863A","--shiki-dark":"#85E89D"},"children":"+       \"root_key\": \"0x59010000\","}]}],"\n",["$","span",null,{"children":["$","span",null,{"style":{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},"children":"        \"ty\": 1"}]}],"\n",["$","span",null,{"children":["$","span",null,{"style":{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},"children":"        }"}]}],"\n",["$","span",null,{"children":["$","span",null,{"style":{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},"children":"    },"}]}]]}]]}]]}],"\n",["$","h2",null,{"id":"interesting-new-features","className":"x:tracking-tight x:text-slate-900 x:dark:text-slate-100 x:font-semibold x:target:animate-[fade-in_1.5s] x:mt-10 x:border-b x:pb-1 x:text-3xl nextra-border","children":["Interesting New Features",["$","$L10",null,{"id":"interesting-new-features"}]]}],"\n",["$","h3",null,{"id":"end-to-end-testing-with-a-chain-snapshot","className":"x:tracking-tight x:text-slate-900 x:dark:text-slate-100 x:font-semibold x:target:animate-[fade-in_1.5s] x:mt-8 x:text-2xl","children":["End-To-End testing with a chain snapshot",["$","$L10",null,{"id":"end-to-end-testing-with-a-chain-snapshot"}]]}],"\n",["$","p",null,{"className":"x:not-first:mt-6 x:leading-7","children":"With ink! 5.0 we introduce the possibility of running your tests against the\nfork (i.e. snapshot) of a live chain."}],"\n",["$","p",null,{"className":"x:not-first:mt-6 x:leading-7","children":["See ",["$","$L12",null,{"href":"../testing/testing-with-live-state","className":"x:focus-visible:nextra-focus x:text-primary-600 x:underline x:hover:no-underline x:decoration-from-font x:[text-underline-position:from-font]","children":"this page"}]," in our documentation for details."]}],"\n",["$","h3",null,{"id":"new-lints","className":"x:tracking-tight x:text-slate-900 x:dark:text-slate-100 x:font-semibold x:target:animate-[fade-in_1.5s] x:mt-8 x:text-2xl","children":["New lints",["$","$L10",null,{"id":"new-lints"}]]}],"\n",["$","p",null,{"className":"x:not-first:mt-6 x:leading-7","children":"The new lints are:"}],"\n",["$","ul",null,{"className":"x:[:is(ol,ul)_&]:my-3 x:not-first:mt-6 x:list-disc x:ms-6","children":["\n",["$","li",null,{"className":"x:my-2","children":[["$","$L12",null,{"href":"../linter/rules/no_main","className":"x:focus-visible:nextra-focus x:text-primary-600 x:underline x:hover:no-underline x:decoration-from-font x:[text-underline-position:from-font]","children":["$","code",null,{"className":"nextra-code","dir":"ltr","children":"no_main"}]}],": enforces ",["$","code",null,{"className":"nextra-code","dir":"ltr","children":"no_main"}]," for  contracts."]}],"\n",["$","li",null,{"className":"x:my-2","children":[["$","$L12",null,{"href":"../linter/rules/primitive_topic","className":"x:focus-visible:nextra-focus x:text-primary-600 x:underline x:hover:no-underline x:decoration-from-font x:[text-underline-position:from-font]","children":["$","code",null,{"className":"nextra-code","dir":"ltr","children":"primitive_topic"}]}],": no number types are allowed as event topics."]}],"\n",["$","li",null,{"className":"x:my-2","children":[["$","$L12",null,{"href":"../linter/rules/storage_never_freed","className":"x:focus-visible:nextra-focus x:text-primary-600 x:underline x:hover:no-underline x:decoration-from-font x:[text-underline-position:from-font]","children":["$","code",null,{"className":"nextra-code","dir":"ltr","children":"storage_never_freed"}]}],": what is written into storage can be removed again."]}],"\n",["$","li",null,{"className":"x:my-2","children":[["$","$L12",null,{"href":"../linter/rules/strict_balance_equality","className":"x:focus-visible:nextra-focus x:text-primary-600 x:underline x:hover:no-underline x:decoration-from-font x:[text-underline-position:from-font]","children":["$","code",null,{"className":"nextra-code","dir":"ltr","children":"strict_balance_equality"}]}],": detects usage of strict balance equality checks, a common smart contract vulnerability."]}],"\n",["$","li",null,{"className":"x:my-2","children":[["$","$L12",null,{"href":"../linter/rules/non_fallible_api","className":"x:focus-visible:nextra-focus x:text-primary-600 x:underline x:hover:no-underline x:decoration-from-font x:[text-underline-position:from-font]","children":["$","code",null,{"className":"nextra-code","dir":"ltr","children":"non_fallible_api"}]}],": detects the usage of potentially unsafe methods for which there are safer alternatives."]}],"\n"]}],"\n",["$","p",null,{"className":"x:not-first:mt-6 x:leading-7","children":["With ",["$","code",null,{"className":"nextra-code","dir":"ltr","children":"cargo-contract"}]," 4.0 we added a couple new lints for common smart contract issues\nand best practices.\nYou can run the linter via ",["$","code",null,{"className":"nextra-code","dir":"ltr","children":"cargo contract build --lint"}],"."]}],"\n",["$","p",null,{"className":"x:not-first:mt-6 x:leading-7","children":["Details on each lint can be found ",["$","$L12",null,{"href":"../linter/overview","className":"x:focus-visible:nextra-focus x:text-primary-600 x:underline x:hover:no-underline x:decoration-from-font x:[text-underline-position:from-font]","children":"here"}],"."]}],"\n",["$","h3",null,{"id":"new-cargo-contract-commands","className":"x:tracking-tight x:text-slate-900 x:dark:text-slate-100 x:font-semibold x:target:animate-[fade-in_1.5s] x:mt-8 x:text-2xl","children":[["New ",["$","code",null,{"className":"nextra-code","dir":"ltr","children":"cargo-contract"}]," commands"],["$","$L10",null,{"id":"new-cargo-contract-commands"}]]}],"\n",["$","p",null,{"className":"x:not-first:mt-6 x:leading-7","children":["We added a bunch of helpful new commands to ",["$","code",null,{"className":"nextra-code","dir":"ltr","children":"cargo-contract"}]," 4.0.\nFor all these commands you can also supply the ",["$","code",null,{"className":"nextra-code","dir":"ltr","children":"--help"}]," cli flag to get more\ninfo (e.g. ",["$","code",null,{"className":"nextra-code","dir":"ltr","children":"cargo contract storage --help"}],")."]}],"\n",["$","ul",null,{"className":"x:[:is(ol,ul)_&]:my-3 x:not-first:mt-6 x:list-disc x:ms-6","children":["\n",["$","li",null,{"className":"x:my-2","children":[["$","code",null,{"className":"nextra-code","dir":"ltr","children":"cargo contract verify"}],": contract verification (",["$","a",null,{"href":"https://github.com/use-ink/cargo-contract/pull/1404","target":"_blank","rel":"noreferrer","className":"x:focus-visible:nextra-focus x:text-primary-600 x:underline x:hover:no-underline x:decoration-from-font x:[text-underline-position:from-font]","children":["#1404",[" ",["$","svg",null,{"fill":"none","stroke":"currentColor","strokeLinecap":"round","strokeLinejoin":"round","strokeWidth":1.7,"viewBox":"0 0 24 24","height":"1em","className":"x:inline x:align-baseline x:shrink-0","children":[["$","path",null,{"d":"M7 17L17 7"}],["$","path",null,{"d":"M7 7h10v10"}]]}]]]}],", ",["$","a",null,{"href":"https://github.com/use-ink/cargo-contract/pull/1306","target":"_blank","rel":"noreferrer","className":"x:focus-visible:nextra-focus x:text-primary-600 x:underline x:hover:no-underline x:decoration-from-font x:[text-underline-position:from-font]","children":["#1306",[" ",["$","svg",null,{"fill":"none","stroke":"currentColor","strokeLinecap":"round","strokeLinejoin":"round","strokeWidth":1.7,"viewBox":"0 0 24 24","height":"1em","className":"x:inline x:align-baseline x:shrink-0","children":[["$","path",null,{"d":"M7 17L17 7"}],["$","path",null,{"d":"M7 7h10v10"}]]}]]]}],")"]}],"\n",["$","li",null,{"className":"x:my-2","children":[["$","code",null,{"className":"nextra-code","dir":"ltr","children":"cargo contract info"}]," now outputs the language of the deployed contract, using a heuristic (",["$","a",null,{"href":"https://github.com/use-ink/cargo-contract/pull/1329","target":"_blank","rel":"noreferrer","className":"x:focus-visible:nextra-focus x:text-primary-600 x:underline x:hover:no-underline x:decoration-from-font x:[text-underline-position:from-font]","children":["#1329",[" ",["$","svg",null,{"fill":"none","stroke":"currentColor","strokeLinecap":"round","strokeLinejoin":"round","strokeWidth":1.7,"viewBox":"0 0 24 24","height":"1em","className":"x:inline x:align-baseline x:shrink-0","children":[["$","path",null,{"d":"M7 17L17 7"}],["$","path",null,{"d":"M7 7h10v10"}]]}]]]}],")"]}],"\n",["$","li",null,{"className":"x:my-2","children":[["$","code",null,{"className":"nextra-code","dir":"ltr","children":"cargo contract info --binary"}],": outputs the on-chain Wasm of the contract (",["$","a",null,{"href":"https://github.com/use-ink/cargo-contract/pull/1311/","target":"_blank","rel":"noreferrer","className":"x:focus-visible:nextra-focus x:text-primary-600 x:underline x:hover:no-underline x:decoration-from-font x:[text-underline-position:from-font]","children":["#1311",[" ",["$","svg",null,{"fill":"none","stroke":"currentColor","strokeLinecap":"round","strokeLinejoin":"round","strokeWidth":1.7,"viewBox":"0 0 24 24","height":"1em","className":"x:inline x:align-baseline x:shrink-0","children":[["$","path",null,{"d":"M7 17L17 7"}],["$","path",null,{"d":"M7 7h10v10"}]]}]]]}],")"]}],"\n",["$","li",null,{"className":"x:my-2","children":[["$","code",null,{"className":"nextra-code","dir":"ltr","children":"cargo contract info --all"}],": displays all addresses of deployed contracts on a particular chain (",["$","a",null,{"href":"https://github.com/use-ink/cargo-contract/pull/1319","target":"_blank","rel":"noreferrer","className":"x:focus-visible:nextra-focus x:text-primary-600 x:underline x:hover:no-underline x:decoration-from-font x:[text-underline-position:from-font]","children":["#1319",[" ",["$","svg",null,{"fill":"none","stroke":"currentColor","strokeLinecap":"round","strokeLinejoin":"round","strokeWidth":1.7,"viewBox":"0 0 24 24","height":"1em","className":"x:inline x:align-baseline x:shrink-0","children":[["$","path",null,{"d":"M7 17L17 7"}],["$","path",null,{"d":"M7 7h10v10"}]]}]]]}],")"]}],"\n",["$","li",null,{"className":"x:my-2","children":[["$","code",null,{"className":"nextra-code","dir":"ltr","children":"cargo contract storage"}],": displays the storage of an on-chain contract (",["$","a",null,{"href":"https://github.com/use-ink/cargo-contract/pull/1395","target":"_blank","rel":"noreferrer","className":"x:focus-visible:nextra-focus x:text-primary-600 x:underline x:hover:no-underline x:decoration-from-font x:[text-underline-position:from-font]","children":["#1395",[" ",["$","svg",null,{"fill":"none","stroke":"currentColor","strokeLinecap":"round","strokeLinejoin":"round","strokeWidth":1.7,"viewBox":"0 0 24 24","height":"1em","className":"x:inline x:align-baseline x:shrink-0","children":[["$","path",null,{"d":"M7 17L17 7"}],["$","path",null,{"d":"M7 7h10v10"}]]}]]]}],", ",["$","a",null,{"href":"https://github.com/use-ink/cargo-contract/pull/1414","target":"_blank","rel":"noreferrer","className":"x:focus-visible:nextra-focus x:text-primary-600 x:underline x:hover:no-underline x:decoration-from-font x:[text-underline-position:from-font]","children":["#1414",[" ",["$","svg",null,{"fill":"none","stroke":"currentColor","strokeLinecap":"round","strokeLinejoin":"round","strokeWidth":1.7,"viewBox":"0 0 24 24","height":"1em","className":"x:inline x:align-baseline x:shrink-0","children":[["$","path",null,{"d":"M7 17L17 7"}],["$","path",null,{"d":"M7 7h10v10"}]]}]]]}],")"]}],"\n"]}],"\n",["$","p",null,{"className":"x:not-first:mt-6 x:leading-7","children":[["$","$Lf",null,{"src":"/img/cargo-contract-storage.png"}],["$","br",null,{}],"\n",["$","$Lf",null,{"src":"/img/cargo-contract-info.png"}]]}],"\n",["$","h3",null,{"id":"alternative-off-chain-e2e-testing-backend-support-drink","className":"x:tracking-tight x:text-slate-900 x:dark:text-slate-100 x:font-semibold x:target:animate-[fade-in_1.5s] x:mt-8 x:text-2xl","children":["Alternative off-chain E2E testing backend support: DRink!",["$","$L10",null,{"id":"alternative-off-chain-e2e-testing-backend-support-drink"}]]}],"\n",["$","p",null,{"className":"x:not-first:mt-6 x:leading-7","children":"DRink! is a toolbox for ink! developers that allows for testing your contracts\nwithout any running node."}],"\n",["$","p",null,{"className":"x:not-first:mt-6 x:leading-7","children":"It has a number of features that are pretty great:"}],"\n",["$","ul",null,{"className":"x:[:is(ol,ul)_&]:my-3 x:not-first:mt-6 x:list-disc x:ms-6","children":["\n",["$","li",null,{"className":"x:my-2","children":["deploy and call your contracts synchronously, ",["$","em",null,{"children":"without any delays"}]," related to block production or networking."]}],"\n",["$","li",null,{"className":"x:my-2","children":"enhanced debugging and call tracing."}],"\n",["$","li",null,{"className":"x:my-2","children":["supports ",["$","em",null,{"children":"arbitrary runtime"}]," configurations, including custom chain extensions and runtime calls."]}],"\n",["$","li",null,{"className":"x:my-2","children":"full control over runtime state, including block number, timestamp, etc."}],"\n"]}],"\n",["$","p",null,{"className":"x:not-first:mt-6 x:leading-7","children":["See the ",["$","a",null,{"href":"https://github.com/inkdevhub/drink","target":"_blank","rel":"noreferrer","className":"x:focus-visible:nextra-focus x:text-primary-600 x:underline x:hover:no-underline x:decoration-from-font x:[text-underline-position:from-font]","children":["DRink!",[" ",["$","svg",null,{"fill":"none","stroke":"currentColor","strokeLinecap":"round","strokeLinejoin":"round","strokeWidth":1.7,"viewBox":"0 0 24 24","height":"1em","className":"x:inline x:align-baseline x:shrink-0","children":[["$","path",null,{"d":"M7 17L17 7"}],["$","path",null,{"d":"M7 7h10v10"}]]}]]]}]," page for more details."]}],"\n",["$","h3",null,{"id":"contract-verification","className":"x:tracking-tight x:text-slate-900 x:dark:text-slate-100 x:font-semibold x:target:animate-[fade-in_1.5s] x:mt-8 x:text-2xl","children":["Contract Verification",["$","$L10",null,{"id":"contract-verification"}]]}],"\n",["$","p",null,{"className":"x:not-first:mt-6 x:leading-7","children":["We added a bunch of helpful documentation and ",["$","code",null,{"className":"nextra-code","dir":"ltr","children":"cargo-contract"}]," commands for\ncontract verification. ",["$","$L12",null,{"href":"../basics/verification/contract-verification","className":"x:focus-visible:nextra-focus x:text-primary-600 x:underline x:hover:no-underline x:decoration-from-font x:[text-underline-position:from-font]","children":"Read more here"}],"."]}],"\n",["$","h3",null,{"id":"we-improved-the-contract-example-illustrating-upgradeable-contracts-via-delegate_call","className":"x:tracking-tight x:text-slate-900 x:dark:text-slate-100 x:font-semibold x:target:animate-[fade-in_1.5s] x:mt-8 x:text-2xl","children":[["We improved the contract example illustrating upgradeable contracts via ",["$","code",null,{"className":"nextra-code","dir":"ltr","children":"delegate_call"}]],["$","$L10",null,{"id":"we-improved-the-contract-example-illustrating-upgradeable-contracts-via-delegate_call"}]]}],"\n",["$","p",null,{"className":"x:not-first:mt-6 x:leading-7","children":["See ",["$","a",null,{"href":"https://github.com/use-ink/ink-examples/tree/main/upgradeable-contracts","target":"_blank","rel":"noreferrer","className":"x:focus-visible:nextra-focus x:text-primary-600 x:underline x:hover:no-underline x:decoration-from-font x:[text-underline-position:from-font]","children":["here",[" ",["$","svg",null,{"fill":"none","stroke":"currentColor","strokeLinecap":"round","strokeLinejoin":"round","strokeWidth":1.7,"viewBox":"0 0 24 24","height":"1em","className":"x:inline x:align-baseline x:shrink-0","children":[["$","path",null,{"d":"M7 17L17 7"}],["$","path",null,{"d":"M7 7h10v10"}]]}]]]}],"\nfor the contract example."]}],"\n",["$","h3",null,{"id":"upgradeable-contracts-delegate_dependency","className":"x:tracking-tight x:text-slate-900 x:dark:text-slate-100 x:font-semibold x:target:animate-[fade-in_1.5s] x:mt-8 x:text-2xl","children":[["Upgradeable Contracts: ",["$","code",null,{"className":"nextra-code","dir":"ltr","children":"delegate_dependency"}]],["$","$L10",null,{"id":"upgradeable-contracts-delegate_dependency"}]]}],"\n",["$","p",null,{"className":"x:not-first:mt-6 x:leading-7","children":"We’ve added support for two new host functions:"}],"\n",["$","ul",null,{"className":"x:[:is(ol,ul)_&]:my-3 x:not-first:mt-6 x:list-disc x:ms-6","children":["\n",["$","li",null,{"className":"x:my-2","children":[["$","code",null,{"className":"nextra-code","dir":"ltr","children":"lock_delegate_dependency"}],": prevents the code at the given code hash from being removed."]}],"\n",["$","li",null,{"className":"x:my-2","children":[["$","code",null,{"className":"nextra-code","dir":"ltr","children":"unlock_delegate_dependency"}],": releases the lock on preventing the code from being removed\nfrom the current contract."]}],"\n"]}],"\n",["$","p",null,{"className":"x:not-first:mt-6 x:leading-7","children":["Having a delegate dependency allows contracts to safely delegate to another ",["$","code",null,{"className":"nextra-code","dir":"ltr","children":"code_hash"}]," with\nthe guarantee that it cannot be deleted."]}],"\n",["$","p",null,{"className":"x:not-first:mt-6 x:leading-7","children":["We’ve updated the ",["$","a",null,{"href":"https://github.com/use-ink/ink-examples/tree/main/upgradeable-contracts#delegator","target":"_blank","rel":"noreferrer","className":"x:focus-visible:nextra-focus x:text-primary-600 x:underline x:hover:no-underline x:decoration-from-font x:[text-underline-position:from-font]","children":[["$","code",null,{"className":"nextra-code","dir":"ltr","children":"upgradeable-contracts/delegator"}],false]}],"\nexample to demonstrate these new calls.\nFor that purpose we’ve also added a ",["$","a",null,{"href":"https://docs.rs/ink_e2e/5.0.0/ink_e2e/trait.ContractsBackend.html#method.remove_code","target":"_blank","rel":"noreferrer","className":"x:focus-visible:nextra-focus x:text-primary-600 x:underline x:hover:no-underline x:decoration-from-font x:[text-underline-position:from-font]","children":[["$","code",null,{"className":"nextra-code","dir":"ltr","children":"remove_code"}],false]}],"\nfunction to the E2E API."]}],"\n",["$","p",null,{"className":"x:not-first:mt-6 x:leading-7","children":["These two functions are only available from ",["$","code",null,{"className":"nextra-code","dir":"ltr","children":"polkadot-1.8.0"}]," on.\nYou can find out if a chain supports these new functions by\nquerying the ",["$","code",null,{"className":"nextra-code","dir":"ltr","children":"contracts::apiVersion"}]," constant. It has to be ",["$","code",null,{"className":"nextra-code","dir":"ltr","children":"2"}],".\nYou can use the ",["$","a",null,{"href":"https://polkadot.js.org/apps/","target":"_blank","rel":"noreferrer","className":"x:focus-visible:nextra-focus x:text-primary-600 x:underline x:hover:no-underline x:decoration-from-font x:[text-underline-position:from-font]","children":["polakdot.js app",[" ",["$","svg",null,{"fill":"none","stroke":"currentColor","strokeLinecap":"round","strokeLinejoin":"round","strokeWidth":1.7,"viewBox":"0 0 24 24","height":"1em","className":"x:inline x:align-baseline x:shrink-0","children":[["$","path",null,{"d":"M7 17L17 7"}],["$","path",null,{"d":"M7 7h10v10"}]]}]]]}]," to do this:\nDeveloper » Chain State » Constants » ",["$","code",null,{"className":"nextra-code","dir":"ltr","children":"contracts"}]," » ",["$","code",null,{"className":"nextra-code","dir":"ltr","children":"apiVersion"}]," » Click on the ",["$","code",null,{"className":"nextra-code","dir":"ltr","children":"+"}]," on the right."]}],"\n",["$","$Lf",null,{"src":"/img/api-version-2.png"}],"\n",["$","p",null,{"className":"x:not-first:mt-6 x:leading-7","children":["At the time of the ink! v5 release (March 2024) no parachain with ink! support\nhad upgraded to ",["$","code",null,{"className":"nextra-code","dir":"ltr","children":"polkadot-v1.8.0"}]," yet."]}],"\n",["$","h3",null,{"id":"we-made-set_code_hash-generic","className":"x:tracking-tight x:text-slate-900 x:dark:text-slate-100 x:font-semibold x:target:animate-[fade-in_1.5s] x:mt-8 x:text-2xl","children":[["We made ",["$","code",null,{"className":"nextra-code","dir":"ltr","children":"set_code_hash"}]," generic"],["$","$L10",null,{"id":"we-made-set_code_hash-generic"}]]}],"\n",["$","p",null,{"className":"x:not-first:mt-6 x:leading-7","children":["The ",["$","code",null,{"className":"nextra-code","dir":"ltr","children":"self.env().set_code_hash()"}]," method now accepts the ",["$","code",null,{"className":"nextra-code","dir":"ltr","children":"Hash"}]," environment type instead\nof a concrete ",["$","code",null,{"className":"nextra-code","dir":"ltr","children":"[u8; 32]"}],"."]}],"\n",["$","div",null,{"data-pagefind-ignore":"all","className":"nextra-code x:relative x:not-first:mt-6","children":["$undefined",["$","pre",null,{"className":"x:group x:focus-visible:nextra-focus x:overflow-x-auto x:subpixel-antialiased x:text-[.9em] x:bg-white x:dark:bg-black x:py-4 x:ring-1 x:ring-inset x:ring-gray-300 x:dark:ring-neutral-700 x:contrast-more:ring-gray-900 x:contrast-more:dark:ring-gray-50 x:contrast-more:contrast-150 x:rounded-md not-prose","tabIndex":"0","children":[["$","div",null,{"className":"x:group-hover:opacity-100 x:group-focus:opacity-100 x:opacity-0 x:transition x:focus-within:opacity-100 x:flex x:gap-1 x:absolute x:right-4 x:top-2","children":[["$","$L11",null,{"children":["$","svg",null,{"viewBox":"0 0 24 24","fill":"currentColor","height":"1em","children":["$","path",null,{"d":"M4 19h6v-2H4v2zM20 5H4v2h16V5zm-3 6H4v2h13.25c1.1 0 2 .9 2 2s-.9 2-2 2H15v-2l-3 3l3 3v-2h2c2.21 0 4-1.79 4-4s-1.79-4-4-4z"}]}]}],false]}],["$","code",null,{"className":"nextra-code","dir":"ltr","children":[["$","span",null,{"children":["$","span",null,{"style":{"--shiki-light":"#6A737D","--shiki-dark":"#6A737D"},"children":"// Previously"}]}],"\n",["$","span",null,{"children":[["$","span",null,{"style":{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"},"children":"pub"}],["$","span",null,{"style":{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"},"children":" fn"}],["$","span",null,{"style":{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"},"children":" set_code"}],["$","span",null,{"style":{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},"children":"("}],["$","span",null,{"style":{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"},"children":"&mut"}],["$","span",null,{"style":{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"},"children":" self"}],["$","span",null,{"style":{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},"children":", code_hash"}],["$","span",null,{"style":{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"},"children":":"}],["$","span",null,{"style":{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},"children":" ["}],["$","span",null,{"style":{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"},"children":"u8"}],["$","span",null,{"style":{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},"children":"; "}],["$","span",null,{"style":{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"},"children":"32"}],["$","span",null,{"style":{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},"children":"]) {"}]]}],"\n",["$","span",null,{"children":[["$","span",null,{"style":{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"},"children":"    ink"}],["$","span",null,{"style":{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"},"children":"::"}],["$","span",null,{"style":{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"},"children":"env"}],["$","span",null,{"style":{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"},"children":"::"}],["$","span",null,{"style":{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"},"children":"set_code_hash"}],["$","span",null,{"style":{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},"children":"("}],["$","span",null,{"style":{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"},"children":"&"}],["$","span",null,{"style":{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},"children":"code_hash)"}],["$","span",null,{"style":{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"},"children":"."}],["$","span",null,{"style":{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"},"children":"unwrap_or_else"}],["$","span",null,{"style":{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},"children":"("}],["$","span",null,{"style":{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"},"children":"|"}],["$","span",null,{"style":{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},"children":"err"}],["$","span",null,{"style":{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"},"children":"|"}],["$","span",null,{"style":{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},"children":" {});"}]]}],"\n",["$","span",null,{"children":["$","span",null,{"style":{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},"children":"}"}]}],"\n",["$","span",null,{"children":" "}],"\n",["$","span",null,{"children":["$","span",null,{"style":{"--shiki-light":"#6A737D","--shiki-dark":"#6A737D"},"children":"// Now"}]}],"\n",["$","span",null,{"children":[["$","span",null,{"style":{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"},"children":"pub"}],["$","span",null,{"style":{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"},"children":" fn"}],["$","span",null,{"style":{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"},"children":" set_code"}],["$","span",null,{"style":{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},"children":"("}],["$","span",null,{"style":{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"},"children":"&mut"}],["$","span",null,{"style":{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"},"children":" self"}],["$","span",null,{"style":{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},"children":", code_hash"}],["$","span",null,{"style":{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"},"children":":"}],["$","span",null,{"style":{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"},"children":" Hash"}],["$","span",null,{"style":{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},"children":") {"}]]}],"\n",["$","span",null,{"children":[["$","span",null,{"style":{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"},"children":"    self"}],["$","span",null,{"style":{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"},"children":"."}],["$","span",null,{"style":{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"},"children":"env"}],["$","span",null,{"style":{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},"children":"()"}],["$","span",null,{"style":{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"},"children":"."}],["$","span",null,{"style":{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"},"children":"set_code_hash"}],["$","span",null,{"style":{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},"children":"("}],["$","span",null,{"style":{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"},"children":"&"}],["$","span",null,{"style":{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},"children":"code_hash)"}],["$","span",null,{"style":{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"},"children":"."}],["$","span",null,{"style":{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"},"children":"unwrap_or_else"}],["$","span",null,{"style":{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},"children":"("}],["$","span",null,{"style":{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"},"children":"|"}],["$","span",null,{"style":{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},"children":"err"}],["$","span",null,{"style":{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"},"children":"|"}],["$","span",null,{"style":{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},"children":" {});"}]]}],"\n",["$","span",null,{"children":["$","span",null,{"style":{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},"children":"}"}]}]]}]]}]]}],"\n",["$","p",null,{"className":"x:not-first:mt-6 x:leading-7","children":["More details in ",["$","a",null,{"href":"https://github.com/use-ink/ink/pull/1906","target":"_blank","rel":"noreferrer","className":"x:focus-visible:nextra-focus x:text-primary-600 x:underline x:hover:no-underline x:decoration-from-font x:[text-underline-position:from-font]","children":["#1906",[" ",["$","svg",null,{"fill":"none","stroke":"currentColor","strokeLinecap":"round","strokeLinejoin":"round","strokeWidth":1.7,"viewBox":"0 0 24 24","height":"1em","className":"x:inline x:align-baseline x:shrink-0","children":[["$","path",null,{"d":"M7 17L17 7"}],["$","path",null,{"d":"M7 7h10v10"}]]}]]]}],"."]}],"\n",["$","h3",null,{"id":"buffer-size-can-be-customized","className":"x:tracking-tight x:text-slate-900 x:dark:text-slate-100 x:font-semibold x:target:animate-[fade-in_1.5s] x:mt-8 x:text-2xl","children":["Buffer size can be customized",["$","$L10",null,{"id":"buffer-size-can-be-customized"}]]}],"\n",["$","p",null,{"className":"x:not-first:mt-6 x:leading-7","children":["With ",["$","a",null,{"href":"https://github.com/use-ink/ink/pull/1869","target":"_blank","rel":"noreferrer","className":"x:focus-visible:nextra-focus x:text-primary-600 x:underline x:hover:no-underline x:decoration-from-font x:[text-underline-position:from-font]","children":["#1869",[" ",["$","svg",null,{"fill":"none","stroke":"currentColor","strokeLinecap":"round","strokeLinejoin":"round","strokeWidth":1.7,"viewBox":"0 0 24 24","height":"1em","className":"x:inline x:align-baseline x:shrink-0","children":[["$","path",null,{"d":"M7 17L17 7"}],["$","path",null,{"d":"M7 7h10v10"}]]}]]]}]," we added a possibility\nof setting a custom static buffer size for ink! to use."]}],"\n",["$","p",null,{"className":"x:not-first:mt-6 x:leading-7","children":["ink! uses a static buffer for interacting with pallet-contracts, i.e. to move data\nbetween ",["$","code",null,{"className":"nextra-code","dir":"ltr","children":"pallet-contracts"}]," and a smart contract. The advantage of a static buffer\nis that no gas-expensive heap allocations are necessary, all allocations are done\nusing simple pointer arithmetic."]}],"\n",["$","p",null,{"className":"x:not-first:mt-6 x:leading-7","children":["The default static buffer size is 16 kB, which is enough for on-chain smart\ncontracts. However, the ",["$","a",null,{"href":"https://phala.network/","target":"_blank","rel":"noreferrer","className":"x:focus-visible:nextra-focus x:text-primary-600 x:underline x:hover:no-underline x:decoration-from-font x:[text-underline-position:from-font]","children":["Phala Network",[" ",["$","svg",null,{"fill":"none","stroke":"currentColor","strokeLinecap":"round","strokeLinejoin":"round","strokeWidth":1.7,"viewBox":"0 0 24 24","height":"1em","className":"x:inline x:align-baseline x:shrink-0","children":[["$","path",null,{"d":"M7 17L17 7"}],["$","path",null,{"d":"M7 7h10v10"}]]}]]]}]," parachain on Polkadot\nallows the deployment of ink! contracts off-chain. Hence, for their chain certain high\ncomputation contracts might require a larger buffer size."]}],"\n",["$","h3",null,{"id":"stabilized-call_runtime","className":"x:tracking-tight x:text-slate-900 x:dark:text-slate-100 x:font-semibold x:target:animate-[fade-in_1.5s] x:mt-8 x:text-2xl","children":[["Stabilized ",["$","code",null,{"className":"nextra-code","dir":"ltr","children":"call_runtime"}]],["$","$L10",null,{"id":"stabilized-call_runtime"}]]}],"\n",["$","p",null,{"className":"x:not-first:mt-6 x:leading-7","children":["We stabilized ",["$","code",null,{"className":"nextra-code","dir":"ltr","children":"call_runtime"}]," in ",["$","a",null,{"href":"https://github.com/use-ink/ink/pull/1749","target":"_blank","rel":"noreferrer","className":"x:focus-visible:nextra-focus x:text-primary-600 x:underline x:hover:no-underline x:decoration-from-font x:[text-underline-position:from-font]","children":["#1749",[" ",["$","svg",null,{"fill":"none","stroke":"currentColor","strokeLinecap":"round","strokeLinejoin":"round","strokeWidth":1.7,"viewBox":"0 0 24 24","height":"1em","className":"x:inline x:align-baseline x:shrink-0","children":[["$","path",null,{"d":"M7 17L17 7"}],["$","path",null,{"d":"M7 7h10v10"}]]}]]]}],".\nIt can be used to call a runtime dispatchable from an ink! contract."]}],"\n",["$","p",null,{"className":"x:not-first:mt-6 x:leading-7","children":["You can find a contract example and a comparison with chain extensions\n",["$","a",null,{"href":"https://github.com/use-ink/ink-examples/tree/main/call-runtime","target":"_blank","rel":"noreferrer","className":"x:focus-visible:nextra-focus x:text-primary-600 x:underline x:hover:no-underline x:decoration-from-font x:[text-underline-position:from-font]","children":["here",[" ",["$","svg",null,{"fill":"none","stroke":"currentColor","strokeLinecap":"round","strokeLinejoin":"round","strokeWidth":1.7,"viewBox":"0 0 24 24","height":"1em","className":"x:inline x:align-baseline x:shrink-0","children":[["$","path",null,{"d":"M7 17L17 7"}],["$","path",null,{"d":"M7 7h10v10"}]]}]]]}],".\nWe’ve added an example of how to end-to-end test\n",["$","code",null,{"className":"nextra-code","dir":"ltr","children":"call_runtime"}]," ",["$","a",null,{"href":"https://github.com/use-ink/ink-examples/tree/main/e2e-call-runtime","target":"_blank","rel":"noreferrer","className":"x:focus-visible:nextra-focus x:text-primary-600 x:underline x:hover:no-underline x:decoration-from-font x:[text-underline-position:from-font]","children":["here",[" ",["$","svg",null,{"fill":"none","stroke":"currentColor","strokeLinecap":"round","strokeLinejoin":"round","strokeWidth":1.7,"viewBox":"0 0 24 24","height":"1em","className":"x:inline x:align-baseline x:shrink-0","children":[["$","path",null,{"d":"M7 17L17 7"}],["$","path",null,{"d":"M7 7h10v10"}]]}]]]}],"."]}]]}]]}]]}]
13:I[6375,["448","static/chunks/3621f9d8-3fb317a87de954e1.js","172","static/chunks/172-96c1996f73fc758d.js","530","static/chunks/530-e11333c18bee5da6.js","784","static/chunks/784-c93bc7170a4021a2.js","604","static/chunks/604-b5555fa912ca5906.js","847","static/chunks/app/docs/%5B%5B...mdxPath%5D%5D/page-3399252d8b8c1fcf.js"],"ThemeConfigProvider"]
14:I[865,["448","static/chunks/3621f9d8-3fb317a87de954e1.js","172","static/chunks/172-96c1996f73fc758d.js","530","static/chunks/530-e11333c18bee5da6.js","784","static/chunks/784-c93bc7170a4021a2.js","604","static/chunks/604-b5555fa912ca5906.js","847","static/chunks/app/docs/%5B%5B...mdxPath%5D%5D/page-3399252d8b8c1fcf.js"],"LastUpdated"]
15:I[9299,["448","static/chunks/3621f9d8-3fb317a87de954e1.js","172","static/chunks/172-96c1996f73fc758d.js","530","static/chunks/530-e11333c18bee5da6.js","1","static/chunks/1-0fdf3ebccd7efb7a.js","604","static/chunks/604-b5555fa912ca5906.js","177","static/chunks/app/layout-4b7e7082c6bcffad.js"],"Search"]
16:I[9441,["448","static/chunks/3621f9d8-3fb317a87de954e1.js","172","static/chunks/172-96c1996f73fc758d.js","530","static/chunks/530-e11333c18bee5da6.js","1","static/chunks/1-0fdf3ebccd7efb7a.js","604","static/chunks/604-b5555fa912ca5906.js","177","static/chunks/app/layout-4b7e7082c6bcffad.js"],"ThemeProvider"]
17:I[4727,["448","static/chunks/3621f9d8-3fb317a87de954e1.js","172","static/chunks/172-96c1996f73fc758d.js","530","static/chunks/530-e11333c18bee5da6.js","784","static/chunks/784-c93bc7170a4021a2.js","604","static/chunks/604-b5555fa912ca5906.js","847","static/chunks/app/docs/%5B%5B...mdxPath%5D%5D/page-3399252d8b8c1fcf.js"],"SkipNavLink"]
18:I[88,["448","static/chunks/3621f9d8-3fb317a87de954e1.js","172","static/chunks/172-96c1996f73fc758d.js","530","static/chunks/530-e11333c18bee5da6.js","1","static/chunks/1-0fdf3ebccd7efb7a.js","604","static/chunks/604-b5555fa912ca5906.js","177","static/chunks/app/layout-4b7e7082c6bcffad.js"],"ClientBanner"]
19:I[6051,["448","static/chunks/3621f9d8-3fb317a87de954e1.js","172","static/chunks/172-96c1996f73fc758d.js","530","static/chunks/530-e11333c18bee5da6.js","1","static/chunks/1-0fdf3ebccd7efb7a.js","604","static/chunks/604-b5555fa912ca5906.js","177","static/chunks/app/layout-4b7e7082c6bcffad.js"],"CloseBannerButton"]
1a:I[4417,["448","static/chunks/3621f9d8-3fb317a87de954e1.js","172","static/chunks/172-96c1996f73fc758d.js","530","static/chunks/530-e11333c18bee5da6.js","784","static/chunks/784-c93bc7170a4021a2.js","604","static/chunks/604-b5555fa912ca5906.js","847","static/chunks/app/docs/%5B%5B...mdxPath%5D%5D/page-3399252d8b8c1fcf.js"],"ConfigProvider"]
1b:I[3122,["448","static/chunks/3621f9d8-3fb317a87de954e1.js","172","static/chunks/172-96c1996f73fc758d.js","530","static/chunks/530-e11333c18bee5da6.js","784","static/chunks/784-c93bc7170a4021a2.js","604","static/chunks/604-b5555fa912ca5906.js","847","static/chunks/app/docs/%5B%5B...mdxPath%5D%5D/page-3399252d8b8c1fcf.js"],"ClientNavbar"]
1c:I[6271,["448","static/chunks/3621f9d8-3fb317a87de954e1.js","172","static/chunks/172-96c1996f73fc758d.js","530","static/chunks/530-e11333c18bee5da6.js","784","static/chunks/784-c93bc7170a4021a2.js","604","static/chunks/604-b5555fa912ca5906.js","847","static/chunks/app/docs/%5B%5B...mdxPath%5D%5D/page-3399252d8b8c1fcf.js"],"Switchers"]
1d:I[6800,["448","static/chunks/3621f9d8-3fb317a87de954e1.js","172","static/chunks/172-96c1996f73fc758d.js","530","static/chunks/530-e11333c18bee5da6.js","784","static/chunks/784-c93bc7170a4021a2.js","604","static/chunks/604-b5555fa912ca5906.js","847","static/chunks/app/docs/%5B%5B...mdxPath%5D%5D/page-3399252d8b8c1fcf.js"],"LocaleSwitch"]
1e:I[5635,["448","static/chunks/3621f9d8-3fb317a87de954e1.js","172","static/chunks/172-96c1996f73fc758d.js","530","static/chunks/530-e11333c18bee5da6.js","784","static/chunks/784-c93bc7170a4021a2.js","604","static/chunks/604-b5555fa912ca5906.js","847","static/chunks/app/docs/%5B%5B...mdxPath%5D%5D/page-3399252d8b8c1fcf.js"],"ThemeSwitch"]
1f:I[5769,["448","static/chunks/3621f9d8-3fb317a87de954e1.js","172","static/chunks/172-96c1996f73fc758d.js","530","static/chunks/530-e11333c18bee5da6.js","784","static/chunks/784-c93bc7170a4021a2.js","604","static/chunks/604-b5555fa912ca5906.js","847","static/chunks/app/docs/%5B%5B...mdxPath%5D%5D/page-3399252d8b8c1fcf.js"],"MobileNav"]
2:["$","html",null,{"lang":"en","dir":"ltr","suppressHydrationWarning":true,"children":[["$","head",null,{"children":["$undefined",["$","style",null,{"children":":root {\n  --nextra-primary-hue: 212deg;\n  --nextra-primary-saturation: 100%;\n  --nextra-primary-lightness: 45%;\n  --nextra-bg: 250,250,250;\n  --nextra-content-width: 90rem;\n}\n.dark {\n  --nextra-primary-hue: 204deg;\n  --nextra-primary-saturation: 100%;\n  --nextra-primary-lightness: 55%;\n  --nextra-bg: 17,17,17;\n}\n::selection {\n  background: hsla(var(--nextra-primary-hue),var(--nextra-primary-saturation),var(--nextra-primary-lightness),.3);\n}\nhtml {\n  background: rgb(var(--nextra-bg));\n}"}],["$","meta",null,{"name":"theme-color","media":"(prefers-color-scheme: light)","content":"rgb(250,250,250)"}],["$","meta",null,{"name":"theme-color","media":"(prefers-color-scheme: dark)","content":"rgb(17,17,17)"}],"$undefined"]}],["$","body",null,{"className":"min-h-screen font-sans antialiased","children":["$","$L13",null,{"value":{"darkMode":true,"docsRepositoryBase":"https://github.com/shuding/nextra/tree/main/docs","editLink":"Edit this page","feedback":{"content":"Question? Give us feedback","labels":"feedback"},"i18n":[],"lastUpdated":["$","$L14",null,{}],"navigation":{"next":true,"prev":true},"search":["$","$L15",null,{}],"sidebar":{"autoCollapse":true,"defaultMenuCollapseLevel":1,"defaultOpen":true,"toggleButton":true},"themeSwitch":{"dark":"Dark","light":"Light","system":"System"},"toc":{"backToTop":"Scroll to top","float":true,"title":"On This Page"}},"children":["$","$L16",null,{"attribute":"class","disableTransitionOnChange":true,"children":[["$","$L17",null,{}],["$","$L18",null,{"className":"nextra-banner x:max-md:sticky x:top-0 x:z-20 x:flex x:items-center x:px-2 x:text-slate-50 x:dark:text-white x:bg-neutral-900 x:dark:bg-[linear-gradient(1deg,#383838,#212121)] x:print:[display:none]","suppressHydrationWarning":true,"children":[["$","div",null,{"className":"x:w-full x:text-center x:font-medium x:text-sm x:py-2.5","children":"Nextra 4.0 is released 🎉"}],["$","$L19",null,{"storageKey":"some-key","children":[["$","script",null,{"dangerouslySetInnerHTML":{"__html":"try{document.querySelector('.nextra-banner').classList.toggle('x:hidden',localStorage.getItem(\"some-key\"))}catch(e){}"}}],["$","svg",null,{"viewBox":"0 0 20 20","fill":"currentColor","height":"1em","children":["$","path",null,{"d":"M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z"}]}]]}]]}],["$","$L1a",null,{"pageMap":[{"name":"index","route":"/","frontMatter":"$undefined","title":"Index"},{"name":"docs","route":"/docs","children":[{"name":"index","route":"/docs","frontMatter":{"title":"Home","filePath":"content/index.mdx","timestamp":1739832722000},"title":"Home"},{"name":"basics","route":"/docs/basics","children":[{"name":"contract-template","route":"/docs/basics/contract-template","frontMatter":{"title":"Contract Template","hide_title":true,"slug":"/basics/contract-template","filePath":"content/basics/contract-template.md","timestamp":1739832722000},"title":"Contract Template"},{"name":"cross-contract-calling","route":"/docs/basics/cross-contract-calling","frontMatter":{"title":"Cross-Contract Calling","slug":"/basics/cross-contract-calling","hide_title":true,"filePath":"content/basics/cross-contract-calling.md","timestamp":1739832722000},"title":"Cross-Contract Calling"},{"name":"env-functions","route":"/docs/basics/env-functions","frontMatter":{"title":"Environment Functions","slug":"/basics/environment-functions","filePath":"content/basics/env-functions.md","timestamp":1739832722000},"title":"Environment Functions"},{"name":"environment","route":"/docs/basics/environment","frontMatter":{"title":"Chain Environment Types","slug":"/basics/chain-environment-types","hide_title":true,"filePath":"content/basics/environment.md","timestamp":1739832722000},"title":"Chain Environment Types"},{"name":"events","route":"/docs/basics/events","frontMatter":{"title":"Events","slug":"/basics/events","hide_title":true,"filePath":"content/basics/events.md","timestamp":1739832722000},"title":"Events"},{"name":"gas","route":"/docs/basics/gas","frontMatter":{"title":"Gas","slug":"/basics/gas","hide_title":true,"filePath":"content/basics/gas.md","timestamp":1739832722000},"title":"Gas"},{"name":"metadata","route":"/docs/basics/metadata","frontMatter":{"title":"Metadata","hide_title":true,"slug":"/basics/metadata","filePath":"content/basics/metadata.md","timestamp":1739832722000},"title":"Metadata"},{"name":"mutating-values","route":"/docs/basics/mutating-values","frontMatter":{"title":"Mutating Storage Values","slug":"/basics/mutating-values","hide_title":true,"filePath":"content/basics/mutating-values.md","timestamp":1739832722000},"title":"Mutating Storage Values"},{"name":"reading-values","route":"/docs/basics/reading-values","frontMatter":{"title":"Reading Values from Storage","slug":"/basics/reading-values","hide_title":true,"filePath":"content/basics/reading-values.md","timestamp":1739832722000},"title":"Reading Values from Storage"},{"name":"selectors","route":"/docs/basics/selectors","frontMatter":{"title":"Selectors","hide_title":true,"slug":"/basics/selectors","filePath":"content/basics/selectors.md","timestamp":1739832722000},"title":"Selectors"},{"name":"storing-values","route":"/docs/basics/storing-values","frontMatter":{"title":"Storing Values","slug":"/basics/storing-values","hide_title":true,"filePath":"content/basics/storing-values.md","timestamp":1739832722000},"title":"Storing Values"},{"name":"trait-definitions","route":"/docs/basics/trait-definitions","frontMatter":{"title":"Trait Definitions","slug":"/basics/trait-definitions","hide_title":true,"filePath":"content/basics/trait-definitions.md","timestamp":1739832722000},"title":"Trait Definitions"},{"name":"upgradeability","route":"/docs/basics/upgradeability","frontMatter":{"title":"Upgradeable Contracts","slug":"/basics/upgradeable-contracts","hide_title":true,"filePath":"content/basics/upgradeability.md","timestamp":1739832722000},"title":"Upgradeable Contracts"},{"name":"verification","route":"/docs/basics/verification","children":[{"name":"contract-verification","route":"/docs/basics/verification/contract-verification","frontMatter":{"title":"Contract Verification","slug":"/basics/verification/contract-verification","hide_title":true,"filePath":"content/basics/verification/contract-verification.md","timestamp":1739832722000},"title":"Contract Verification"},{"name":"sirato","route":"/docs/basics/verification/sirato","frontMatter":{"title":"Sirato","slug":"/basics/verification/sirato","hide_title":true,"filePath":"content/basics/verification/sirato.md","timestamp":1739832722000},"title":"Sirato"}],"title":"Verification"},{"name":"xcm","route":"/docs/basics/xcm","frontMatter":{"title":"XCM","slug":"/basics/xcm","hide_title":true,"filePath":"content/basics/xcm.md","timestamp":1739832722000},"title":"XCM"}],"title":"Basics"},{"name":"brand-assets","route":"/docs/brand-assets","children":[{"name":"cargo-contract","route":"/docs/brand-assets/cargo-contract","frontMatter":{"title":"cargo-contract","slug":"/brand-assets/cargo-contract","hide_table_of_contents":true,"filePath":"content/brand-assets/cargo-contract.md","timestamp":1739832722000},"title":"cargo-contract"},{"name":"community-badges","route":"/docs/brand-assets/community-badges","frontMatter":{"title":"Community Badges","slug":"/brand-assets/community-badges","hide_table_of_contents":false,"filePath":"content/brand-assets/community-badges.md","timestamp":1739832722000},"title":"Community Badges"},{"name":"ink","route":"/docs/brand-assets/ink","frontMatter":{"title":"ink!","slug":"/brand-assets/ink","hide_table_of_contents":false,"filePath":"content/brand-assets/ink.md","timestamp":1739832722000},"title":"ink!"},{"name":"stickers","route":"/docs/brand-assets/stickers","frontMatter":{"title":"Stickers","slug":"/brand-assets/stickers","hide_table_of_contents":false,"filePath":"content/brand-assets/stickers.md","timestamp":1739832722000},"title":"Stickers"}],"title":"Brand Assets"},{"name":"datastructures","route":"/docs/datastructures","children":[{"name":"custom","route":"/docs/datastructures/custom","frontMatter":{"title":"Custom Data Structures","slug":"/datastructures/custom-datastructure","hide_title":true,"filePath":"content/datastructures/custom.md","timestamp":1739832722000},"title":"Custom Data Structures"},{"name":"mapping","route":"/docs/datastructures/mapping","frontMatter":{"title":"Working with Mapping","slug":"/datastructures/mapping","hide_title":true,"filePath":"content/datastructures/mapping.md","timestamp":1739832722000},"title":"Working with Mapping"},{"name":"overview","route":"/docs/datastructures/overview","frontMatter":{"title":"Overview","slug":"/datastructures/overview","hide_title":true,"filePath":"content/datastructures/overview.md","timestamp":1739832722000},"title":"Overview"},{"name":"storage-in-metadata","route":"/docs/datastructures/storage-in-metadata","frontMatter":{"title":"Storage Metadata Format","slug":"/datastructures/storage-in-metadata","hide_title":true,"filePath":"content/datastructures/storage-in-metadata.md","timestamp":1739832722000},"title":"Storage Metadata Format"},{"name":"storage-layout","route":"/docs/datastructures/storage-layout","frontMatter":{"title":"Storage Layout","slug":"/datastructures/storage-layout","hide_title":true,"filePath":"content/datastructures/storage-layout.md","timestamp":1739832722000},"title":"Storage Layout"},{"name":"storagevec","route":"/docs/datastructures/storagevec","frontMatter":{"title":"Working with StorageVec","slug":"/datastructures/storagevec","hide_title":true,"filePath":"content/datastructures/storagevec.md","timestamp":1739832722000},"title":"Working with StorageVec"}],"title":"Datastructures"},{"name":"examples","route":"/docs/examples","children":[{"name":"contracts","route":"/docs/examples/contracts","frontMatter":{"title":"Smart Contract Examples","slug":"/examples/smart-contracts","hide_title":true,"filePath":"content/examples/contracts.md","timestamp":1739832722000},"title":"Smart Contract Examples"},{"name":"dapps","route":"/docs/examples/dapps","frontMatter":{"title":"dApps","slug":"/examples/dapps","hide_title":true,"filePath":"content/examples/dapps.md","timestamp":1739832722000},"title":"dApps"}],"title":"Examples"},{"name":"faq","route":"/docs/faq","children":[{"name":"faq","route":"/docs/faq/faq","frontMatter":{"title":"Frequently Asked Questions","hide":true,"slug":"/faq","hide_table_of_contents":true,"filePath":"content/faq/faq.md","timestamp":1739832722000},"title":"Frequently Asked Questions"},{"name":"migrating-from-ink-3-to-4","route":"/docs/faq/migrating-from-ink-3-to-4","frontMatter":{"title":"Migrating from ink! 3.x to 4.0","slug":"/faq/migrating-from-ink-3-to-4","filePath":"content/faq/migrating-from-ink-3-to-4.md","timestamp":1739832722000},"title":"Migrating from ink! 3.x to 4.0"},{"name":"migrating-from-ink-4-to-5","route":"/docs/faq/migrating-from-ink-4-to-5","frontMatter":{"title":"Migrating from ink! 4.x to 5.0","slug":"/faq/migrating-from-ink-4-to-5","filePath":"content/faq/migrating-from-ink-4-to-5.md","timestamp":1739832722000},"title":"Migrating from ink! 4.x to 5.0"}],"title":"Faq"},{"name":"frontend","route":"/docs/frontend","children":[{"name":"overview","route":"/docs/frontend/overview","frontMatter":{"title":"Overview","slug":"/frontend/overview","hide_title":true,"filePath":"content/frontend/overview.md","timestamp":1739832722000},"title":"Overview"}],"title":"Frontend"},{"name":"funding-programs","route":"/docs/funding-programs","children":[{"name":"overview","route":"/docs/funding-programs/overview","frontMatter":{"title":"Overview","hide_title":true,"slug":"/funding-programs","filePath":"content/funding-programs/overview.md","timestamp":1739832722000},"title":"Overview"}],"title":"Funding Programs"},{"name":"getting-started","route":"/docs/getting-started","children":[{"name":"calling","route":"/docs/getting-started/calling","frontMatter":{"title":"Call Your Contract","slug":"/getting-started/calling-your-contract","hide_title":true,"filePath":"content/getting-started/calling.md","timestamp":1739832722000},"title":"Call Your Contract"},{"name":"cargo-contract","route":"/docs/getting-started/cargo-contract","frontMatter":{"title":"Install cargo-contract","slug":"/cargo-contract-cli","filePath":"content/getting-started/cargo-contract.md","timestamp":1739832722000},"title":"Install cargo-contract"},{"name":"compiling","route":"/docs/getting-started/compiling","frontMatter":{"title":"Compile Your Contract","slug":"/getting-started/building-your-contract","hide_title":true,"filePath":"content/getting-started/compiling.md","timestamp":1739832722000},"title":"Compile Your Contract"},{"name":"creating","route":"/docs/getting-started/creating","frontMatter":{"title":"Creating an ink! Project","slug":"/getting-started/creating-an-ink-project","hide_title":true,"filePath":"content/getting-started/creating.md","timestamp":1739832722000},"title":"Creating an ink! Project"},{"name":"deploying","route":"/docs/getting-started/deploying","frontMatter":{"title":"Deploy Your Contract","slug":"/getting-started/deploy-your-contract","hide_title":true,"filePath":"content/getting-started/deploying.md","timestamp":1739832722000},"title":"Deploy Your Contract"},{"name":"running","route":"/docs/getting-started/running","frontMatter":{"title":"Run a Substrate Node","slug":"/getting-started/running-substrate","hide_title":true,"filePath":"content/getting-started/running.md","timestamp":1739832722000},"title":"Run a Substrate Node"},{"name":"setup","route":"/docs/getting-started/setup","frontMatter":{"title":"Setup","slug":"/getting-started/setup","hide_title":true,"filePath":"content/getting-started/setup.md","timestamp":1739832722000},"title":"Setup"},{"name":"troubleshooting","route":"/docs/getting-started/troubleshooting","frontMatter":{"title":"Troubleshooting","slug":"/getting-started/troubleshooting","hide_title":true,"filePath":"content/getting-started/troubleshooting.md","timestamp":1739832722000},"title":"Troubleshooting"}],"title":"Getting Started"},{"name":"intro","route":"/docs/intro","children":[{"name":"how-it-works","route":"/docs/intro/how-it-works","frontMatter":{"title":"How it Works – Substrate","hide_title":true,"slug":"/how-it-works","filePath":"content/intro/how-it-works.md","timestamp":1739832722000},"title":"How it Works – Substrate"},{"name":"ink-vs-cosmwasm","route":"/docs/intro/ink-vs-cosmwasm","frontMatter":{"title":"ink! vs. CosmWasm","slug":"/ink-vs-cosmwasm","hide_title":true,"filePath":"content/intro/ink-vs-cosmwasm.md","timestamp":1739832722000},"title":"ink! vs. CosmWasm"},{"name":"ink-vs-solidity","route":"/docs/intro/ink-vs-solidity","frontMatter":{"title":"ink! vs. Solidity","hide_title":true,"slug":"/ink-vs-solidity","filePath":"content/intro/ink-vs-solidity.md","timestamp":1739832722000},"title":"ink! vs. Solidity"},{"name":"intro","route":"/docs/intro/intro","frontMatter":{"title":"Welcome!","hide_title":true,"slug":"/","hide_table_of_contents":true,"filePath":"content/intro/intro.mdx","timestamp":1739832722000},"title":"Welcome!"},{"name":"migrate-to-parachain","route":"/docs/intro/migrate-to-parachain","frontMatter":{"title":"Migrating an ink! contract to a Parachain Runtime","hide_title":true,"slug":"/migrate-ink-contracts-to-polkadot-frame-parachain","filePath":"content/intro/migrate-to-parachain.md","timestamp":1739832722000},"title":"Migrating an ink! contract to a Parachain Runtime"},{"name":"polkadot","route":"/docs/intro/polkadot","frontMatter":{"title":"Smart Contracts in Polkadot","hide_title":true,"slug":"/smart-contracts-polkadot","filePath":"content/intro/polkadot.md","timestamp":1739832722000},"title":"Smart Contracts in Polkadot"},{"name":"where-to-deploy","route":"/docs/intro/where-to-deploy","frontMatter":{"title":"Where to deploy?","slug":"/where-to-deploy","hide_title":true,"filePath":"content/intro/where-to-deploy.md","timestamp":1739832722000},"title":"Where to deploy?"},{"name":"why-rust","route":"/docs/intro/why-rust","frontMatter":{"title":"Why Rust for Smart Contracts?","hide_title":true,"slug":"/why-rust-for-smart-contracts","filePath":"content/intro/why-rust.md","timestamp":1739832722000},"title":"Why Rust for Smart Contracts?"},{"name":"why-webassembly","route":"/docs/intro/why-webassembly","frontMatter":{"title":"Why WebAssembly for Smart Contracts?","hide_title":true,"slug":"/why-webassembly-for-smart-contracts","filePath":"content/intro/why-webassembly.md","timestamp":1739832722000},"title":"Why WebAssembly for Smart Contracts?"}],"title":"Intro"},{"name":"linter","route":"/docs/linter","children":[{"name":"overview","route":"/docs/linter/overview","frontMatter":{"title":"Overview","hide_title":true,"description":"An overview of ink! linter","filePath":"content/linter/overview.md","timestamp":1739832722000},"title":"Overview"},{"name":"rules","route":"/docs/linter/rules","children":[{"name":"no_main","route":"/docs/linter/rules/no_main","frontMatter":{"title":"no_main","hide_title":true,"description":"no_main lint documentation","filePath":"content/linter/rules/no_main.md","timestamp":1739832722000},"title":"no_main"},{"name":"non_fallible_api","route":"/docs/linter/rules/non_fallible_api","frontMatter":{"title":"non_fallible_api","hide_title":true,"description":"non_fallible_api lint documentation","filePath":"content/linter/rules/non_fallible_api.md","timestamp":1739832722000},"title":"non_fallible_api"},{"name":"primitive_topic","route":"/docs/linter/rules/primitive_topic","frontMatter":{"title":"primitive_topic","hide_title":true,"description":"primitive_topic lint documentation","filePath":"content/linter/rules/primitive_topic.md","timestamp":1739832722000},"title":"primitive_topic"},{"name":"storage_never_freed","route":"/docs/linter/rules/storage_never_freed","frontMatter":{"title":"storage_never_freed","hide_title":true,"description":"storage_never_freed lint documentation","filePath":"content/linter/rules/storage_never_freed.md","timestamp":1739832722000},"title":"storage_never_freed"},{"name":"strict_balance_equality","route":"/docs/linter/rules/strict_balance_equality","frontMatter":{"title":"strict_balance_equality","hide_title":true,"description":"strict_balance_equality lint documentation","filePath":"content/linter/rules/strict_balance_equality.md","timestamp":1739832722000},"title":"strict_balance_equality"}],"title":"Rules"}],"title":"Linter"},{"name":"macros-attributes","route":"/docs/macros-attributes","children":[{"name":"anonymous","route":"/docs/macros-attributes/anonymous","frontMatter":{"title":"#[ink(anonymous)]","slug":"/macros-attributes/anonymous","hide_title":true,"filePath":"content/macros-attributes/anonymous.md","timestamp":1739832722000},"title":"#[ink(anonymous)]"},{"name":"chain-extension","route":"/docs/macros-attributes/chain-extension","frontMatter":{"title":"#[ink::chain_extension]","slug":"/macros-attributes/chain-extension","hide_title":true,"filePath":"content/macros-attributes/chain-extension.md","timestamp":1739832722000},"title":"#[ink::chain_extension]"},{"name":"contract","route":"/docs/macros-attributes/contract","frontMatter":{"title":"#[ink::contract]","hide_title":true,"slug":"/macros-attributes/contract","filePath":"content/macros-attributes/contract.md","timestamp":1739832722000},"title":"#[ink::contract]"},{"name":"default","route":"/docs/macros-attributes/default","frontMatter":{"title":"#[ink(default)]","slug":"/macros-attributes/default","hide_title":true,"filePath":"content/macros-attributes/default.md","timestamp":1739832722000},"title":"#[ink(default)]"},{"name":"event","route":"/docs/macros-attributes/event","frontMatter":{"title":"#[ink::event]","slug":"/macros-attributes/event","hide_title":true,"filePath":"content/macros-attributes/event.md","timestamp":1739832722000},"title":"#[ink::event]"},{"name":"implementation","route":"/docs/macros-attributes/implementation","frontMatter":{"title":"#[ink(impl)]","slug":"/macros-attributes/impl","hide_title":true,"filePath":"content/macros-attributes/implementation.md","timestamp":1739832722000},"title":"#[ink(impl)]"},{"name":"message","route":"/docs/macros-attributes/message","frontMatter":{"title":"#[ink(message)]","slug":"/macros-attributes/message","hide_title":true,"filePath":"content/macros-attributes/message.md","timestamp":1739832722000},"title":"#[ink(message)]"},{"name":"namespace","route":"/docs/macros-attributes/namespace","frontMatter":{"title":"#[ink(namespace = \"…\")]","slug":"/macros-attributes/namespace","hide_title":true,"filePath":"content/macros-attributes/namespace.md","timestamp":1739832722000},"title":"#[ink(namespace = \"…\")]"},{"name":"overview","route":"/docs/macros-attributes/overview","frontMatter":{"title":"Overview","slug":"/macros-attributes","hide_title":true,"filePath":"content/macros-attributes/overview.md","timestamp":1739832722000},"title":"Overview"},{"name":"payable","route":"/docs/macros-attributes/payable","frontMatter":{"title":"#[ink(payable)]","slug":"/macros-attributes/payable","hide_title":true,"filePath":"content/macros-attributes/payable.md","timestamp":1739832722000},"title":"#[ink(payable)]"},{"name":"selector","route":"/docs/macros-attributes/selector","frontMatter":{"title":"#[ink(selector = S:u32)]","slug":"/macros-attributes/selector","hide_title":true,"filePath":"content/macros-attributes/selector.md","timestamp":1739832722000},"title":"#[ink(selector = S:u32)]"},{"name":"storage","route":"/docs/macros-attributes/storage","frontMatter":{"title":"#[ink(storage)]","slug":"/macros-attributes/storage","hide_title":true,"filePath":"content/macros-attributes/storage.md","timestamp":1739832722000},"title":"#[ink(storage)]"},{"name":"topic","route":"/docs/macros-attributes/topic","frontMatter":{"title":"#[ink(topic)]","slug":"/macros-attributes/topic","hide_title":true,"filePath":"content/macros-attributes/topic.md","timestamp":1739832722000},"title":"#[ink(topic)]"}],"title":"Macros Attributes"},{"name":"standards","route":"/docs/standards","children":[{"name":"overview","route":"/docs/standards/overview","frontMatter":{"title":"Overview","slug":"/standards/overview","hide_title":true,"filePath":"content/standards/overview.md","timestamp":1739832722000},"title":"Overview"}],"title":"Standards"},{"name":"testing","route":"/docs/testing","children":[{"name":"debugging","route":"/docs/testing/debugging","frontMatter":{"title":"Debugging","slug":"/basics/contract-debugging","hide_title":true,"filePath":"content/testing/debugging.md","timestamp":1739832722000},"title":"Debugging"},{"name":"drink","route":"/docs/testing/drink","frontMatter":{"title":"DRink!","hide_title":true,"slug":"/basics/contract-testing/drink","filePath":"content/testing/drink.md","timestamp":1739832722000},"title":"DRink!"},{"name":"e2e","route":"/docs/testing/e2e","frontMatter":{"title":"End-to-End (E2E) Tests","hide_title":true,"slug":"/basics/contract-testing/end-to-end-e2e-testing","filePath":"content/testing/e2e.md","timestamp":1739832722000},"title":"End-to-End (E2E) Tests"},{"name":"off-chain","route":"/docs/testing/off-chain","frontMatter":{"title":"Off-chain Tests","hide_title":true,"slug":"/basics/contract-testing/off-chain","filePath":"content/testing/off-chain.md","timestamp":1739832722000},"title":"Off-chain Tests"},{"name":"overview","route":"/docs/testing/overview","frontMatter":{"title":"Overview","hide_title":true,"slug":"/basics/contract-testing/overview","filePath":"content/testing/overview.md","timestamp":1739832722000},"title":"Overview"},{"name":"testing-with-live-state","route":"/docs/testing/testing-with-live-state","frontMatter":{"title":"Testing with Chain Snapshots","hide_title":true,"slug":"/basics/contract-testing/chain-snapshot","filePath":"content/testing/testing-with-live-state.md","timestamp":1739832722000},"title":"Testing with Chain Snapshots"},{"name":"testnet","route":"/docs/testing/testnet","children":[{"name":"faucet","route":"/docs/testing/testnet/faucet","frontMatter":{"title":"Faucet","slug":"/faucet","hide_title":true,"filePath":"content/testing/testnet/faucet.md","timestamp":1739832722000},"title":"Faucet"},{"name":"overview","route":"/docs/testing/testnet/overview","frontMatter":{"title":"Contracts on Paseo","hide_title":true,"slug":"/testnet","filePath":"content/testing/testnet/overview.md","timestamp":1739832722000},"title":"Contracts on Paseo"}],"title":"Testnet"}],"title":"Testing"},{"name":"third-party-tools","route":"/docs/third-party-tools","children":[{"name":"ink-analyzer","route":"/docs/third-party-tools/ink-analyzer","frontMatter":{"title":"ink! Analyzer","slug":"/getting-started/ink-analyzer","filePath":"content/third-party-tools/ink-analyzer.md","timestamp":1739832722000},"title":"ink! Analyzer"},{"name":"inkathon","route":"/docs/third-party-tools/inkathon","frontMatter":{"title":"ink!athon dApp Boilerplate","slug":"/getting-started/inkathon","filePath":"content/third-party-tools/inkathon.mdx","timestamp":1739832722000},"title":"ink!athon dApp Boilerplate"},{"name":"subwallet","route":"/docs/third-party-tools/subwallet","frontMatter":{"title":"SubWallet","slug":"/getting-started/subwallet","filePath":"content/third-party-tools/subwallet.md","timestamp":1739832722000},"title":"SubWallet"},{"name":"swanky","route":"/docs/third-party-tools/swanky","children":[{"name":"index","route":"/docs/third-party-tools/swanky","frontMatter":{"title":"Swanky Suite","slug":"/getting-started/swanky","filePath":"content/third-party-tools/swanky/index.md","timestamp":1739832722000},"title":"Swanky Suite"},{"name":"cli","route":"/docs/third-party-tools/swanky/cli","frontMatter":{"sidebar_position":1,"toc_min_heading_level":2,"toc_max_heading_level":4,"slug":"/getting-started/swanky/cli","title":"Swanky CLI","filePath":"content/third-party-tools/swanky/cli.md","timestamp":1739832722000},"title":"Swanky CLI"},{"name":"node","route":"/docs/third-party-tools/swanky/node","frontMatter":{"sidebar_position":2,"slug":"/getting-started/swanky/node","title":"Swanky Node","filePath":"content/third-party-tools/swanky/node.md","timestamp":1739832722000},"title":"Swanky Node"}],"title":"Swanky"}],"title":"Third Party Tools"}],"title":"Docs"}],"navbar":["$","header",null,{"className":"nextra-navbar x:sticky x:top-0 x:z-30 x:w-full x:bg-transparent x:print:hidden x:max-md:[.nextra-banner:not([class$=hidden])~&]:top-(--nextra-banner-height)","children":[["$","div",null,{"className":"nextra-navbar-blur x:absolute x:-z-1 x:size-full nextra-border x:border-b x:backdrop-blur-md x:bg-nextra-bg/70"}],["$","nav",null,{"style":{"height":"var(--nextra-navbar-height)"},"className":"x:mx-auto x:flex x:max-w-(--nextra-content-width) x:items-center x:gap-4 x:pl-[max(env(safe-area-inset-left),1.5rem)] x:pr-[max(env(safe-area-inset-right),1.5rem)] x:justify-end","children":[["$","$L12",null,{"href":"/","className":"x:flex x:items-center x:me-auto x:transition-opacity x:focus-visible:nextra-focus x:hover:opacity-75","children":["$","b",null,{"children":"ink!"}]}],["$","$L1b",null,{"className":"","children":["$undefined","$undefined","$undefined"]}]]}]]}],"footer":["$","div",null,{"className":"x:bg-gray-100 x:pb-[env(safe-area-inset-bottom)] x:dark:bg-neutral-900 x:print:bg-transparent","children":[["$","$L1c",null,{"children":["$","div",null,{"className":"x:mx-auto x:flex x:max-w-(--nextra-content-width) x:gap-2 x:py-2 x:px-4","children":[["$","$L1d",null,{}],["$","$L1e",null,{}]]}]}],["$","hr",null,{"className":"nextra-border"}],["$","footer",null,{"className":"x:mx-auto x:flex x:max-w-(--nextra-content-width) x:justify-center x:py-12 x:text-gray-600 x:dark:text-gray-400 x:md:justify-start x:pl-[max(env(safe-area-inset-left),1.5rem)] x:pr-[max(env(safe-area-inset-right),1.5rem)]","children":["MIT ",2025," © Nextra."]}]]}],"children":[["$","$L1f",null,{}],["$","$L3",null,{"parallelRouterKey":"children","segmentPath":["children"],"error":"$undefined","errorStyles":"$undefined","errorScripts":"$undefined","template":["$","$L4",null,{}],"templateStyles":"$undefined","templateScripts":"$undefined","notFound":[[],[["$","title",null,{"children":"404: This page could not be found."}],["$","div",null,{"style":{"fontFamily":"system-ui,\"Segoe UI\",Roboto,Helvetica,Arial,sans-serif,\"Apple Color Emoji\",\"Segoe UI Emoji\"","height":"100vh","textAlign":"center","display":"flex","flexDirection":"column","alignItems":"center","justifyContent":"center"},"children":["$","div",null,{"children":[["$","style",null,{"dangerouslySetInnerHTML":{"__html":"body{color:#000;background:#fff;margin:0}.next-error-h1{border-right:1px solid rgba(0,0,0,.3)}@media (prefers-color-scheme:dark){body{color:#fff;background:#000}.next-error-h1{border-right:1px solid rgba(255,255,255,.3)}}"}}],["$","h1",null,{"className":"next-error-h1","style":{"display":"inline-block","margin":"0 20px 0 0","padding":"0 23px 0 0","fontSize":24,"fontWeight":500,"verticalAlign":"top","lineHeight":"49px"},"children":404}],["$","div",null,{"style":{"display":"inline-block"},"children":["$","h2",null,{"style":{"fontSize":14,"fontWeight":400,"lineHeight":"49px","margin":0},"children":"This page could not be found."}]}]]}]}]]],"forbidden":"$undefined","unauthorized":"$undefined"}]]}]]}]}]}]]}]
b:[["$","meta","0",{"name":"viewport","content":"width=device-width, initial-scale=1"}]]
9:[["$","meta","0",{"charSet":"utf-8"}],["$","title","1",{"children":"Migrating from ink! 4.x to 5.0"}]]
7:null
